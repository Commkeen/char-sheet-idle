{"version":3,"sources":["./$_lazy_route_resources|lazy|groupOptions: {}|namespace object","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/components/character-panel/character-panel.component.html","./src/app/components/character-panel/character-panel.component.ts","./src/app/components/common/game-button/game-button.component.ts","./src/app/components/common/game-button/game-button.component.html","./src/app/components/common/progress-bar/progress-bar.component.ts","./src/app/components/common/progress-bar/progress-bar.component.html","./src/app/components/location-panel/location-panel.component.html","./src/app/components/location-panel/location-panel.component.ts","./src/app/components/message-panel/message-panel.component.html","./src/app/components/message-panel/message-panel.component.ts","./src/app/models/character.ts","./src/app/models/venture.ts","./src/app/pipes/display-number.pipe.ts","./src/app/services/game.service.ts","./src/app/services/message.service.ts","./src/app/services/time.service.ts","./src/app/staticData/dieDefinitions.ts","./src/app/staticData/ventureDefinitions.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 8255;\nmodule.exports = webpackEmptyAsyncContext;","import { Component, OnInit } from '@angular/core';\nimport { TimeService } from './services/time.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n  title = 'char-sheet-idle';\n\n  constructor(private _timeService: TimeService) { }\n\n  ngOnInit(): void {\n    this._timeService.startGame();\n  }\n}\n","<div fxLayout=\"column\" class=\"layout-container\">\n  <div fxFlex=\"4\" class=\"layout-top\">\n    Character Sheet Idle 0.1 --- Work in progress\n  </div>\n  <div fxFlex=\"70\" class=\"layout-center\">\n    <app-location-panel></app-location-panel>\n  </div>\n  <div fxFlex=\"26\" fxLayout=\"row\" class=\"layout-bottom\">\n    <div fxFlex=\"60\" class=\"layout-left-bottom\">\n      <app-character-panel></app-character-panel>\n    </div>\n    <div fxFlex=\"40\" class=\"layout-right-bottom\">\n      <app-message-panel></app-message-panel>\n    </div>\n  </div>\n</div>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FlexModule } from '@angular/flex-layout';\n\nimport { AppComponent } from './app.component';\nimport { LocationPanelComponent } from './components/location-panel/location-panel.component';\nimport { CharacterPanelComponent } from './components/character-panel/character-panel.component';\nimport { MessagePanelComponent } from './components/message-panel/message-panel.component';\nimport { GameButtonComponent } from './components/common/game-button/game-button.component';\nimport { ProgressBarComponent } from './components/common/progress-bar/progress-bar.component';\nimport { DisplayNumberPipe } from './pipes/display-number.pipe';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    LocationPanelComponent,\n    CharacterPanelComponent,\n    MessagePanelComponent,\n    GameButtonComponent,\n    ProgressBarComponent,\n    DisplayNumberPipe\n  ],\n  imports: [\n    BrowserModule,\n    FlexModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","<div fxLayout=\"row\" class=\"game-section\">\n  <div fxLayout=\"column\" class=\"reroll-panel\">\n    <game-button (click)=\"rollNewCharacter()\">Roll New Character</game-button>\n    <span *ngIf=\"getCharacter() != null\">\n    <div>Current die: {{dieCount}}d{{dieFaces}}</div>\n    <br />\n    <div>AP: {{ap}}</div>\n    <game-button *ngIf=\"getNextDieCost() != null\" (click)=\"upgradeDie()\">\n      Upgrade Die: {{getNextDieCost()}} AP\n    </game-button>\n    </span>\n  </div>\n  <div fxLayout=\"row\" class=\"character-sheet\" *ngIf=\"getCharacter() != null\">\n    <div fxLayout=\"column\" class=\"character-sheet-left\">\n      <h2>{{name}}</h2>\n      <div fxLayout=\"row\">\n        <div fxFlex=\"80\">Stamina: {{stamina | displayNumber}}/{{maxStamina}}</div>\n        <game-button (click)=\"rest()\">Rest</game-button>\n      </div>\n      <progress-bar [value]=\"stamina\" [max]=\"maxStamina\"></progress-bar>\n      <br />\n      <div>Level {{level}}</div>\n      <div>XP: {{xp}}/{{xpMax}}</div>\n      <progress-bar [value]=\"xp\" [max]=\"xpMax\"></progress-bar>\n    </div>\n    <div fxLayout=\"column\" class=\"character-sheet-right\">\n      <div>Resting at the inn</div>\n      <br />\n      <br />\n      <div>Body: {{body}}</div>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Character } from 'src/app/models/character';\nimport { GameService } from 'src/app/services/game.service';\nimport { DieDef } from 'src/app/staticData/dieDefinitions';\n\n@Component({\n  selector: 'app-character-panel',\n  templateUrl: './character-panel.component.html',\n  styleUrls: ['./character-panel.component.scss']\n})\nexport class CharacterPanelComponent implements OnInit {\n\n  constructor(private _gameService: GameService) { }\n\n  ngOnInit(): void {\n  }\n\n  getCharacter(): Character {\n    return this._gameService.character;\n  }\n\n  getAP(): number {\n    return this._gameService.ap;\n  }\n\n  getDie(): DieDef {\n    return this._gameService.getCurrentDie();\n  }\n\n  getNextDieCost(): number {\n    let result = null;\n    const nextDie = this._gameService.getNextDie();\n    if (nextDie != null) {result = nextDie.cost;}\n    return result;\n  }\n\n  // ======Display Getters======\n\n  get name() {\n    return this.getCharacter().name;\n  }\n\n  get level() {\n    return this.getCharacter().level;\n  }\n\n  get xp() {\n    return this.getCharacter().xp;\n  }\n\n  get xpMax() {\n    return this._gameService.getLevelCost(this.level+1);\n  }\n\n  get stamina() {\n    return this.getCharacter().stamina;\n  }\n\n  get maxStamina() {\n    return this.getCharacter().maxStamina;\n  }\n\n  get body() {\n    return this.getCharacter().body;\n  }\n\n  get ap() {\n    return this._gameService.ap;\n  }\n\n  get dieCount() {\n    return this.getDie().count;\n  }\n\n  get dieFaces() {\n    return this.getDie().faces;\n  }\n\n  // ======Click Handlers======\n\n  rollNewCharacter(): void {\n    this._gameService.rollNewCharacter();\n  }\n\n  upgradeDie(): void {\n    this._gameService.upgradeDie();\n  }\n\n  rest(): void {\n    this._gameService.rest();\n  }\n\n}\n","import { Component, ContentChild, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\n@Component({\n  selector: 'game-button',\n  templateUrl: './game-button.component.html',\n  styleUrls: ['./game-button.component.scss']\n})\nexport class GameButtonComponent implements OnInit {\n\n  @Output() click = new EventEmitter<void>();\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  onClick(event: MouseEvent) {\n    event.stopPropagation();\n    this.click.emit();\n  }\n\n}\n","<div class=\"game-btn\" (click)=\"onClick($event)\">\n  <span class=\"text\"><ng-content></ng-content></span>\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'progress-bar',\n  templateUrl: './progress-bar.component.html',\n  styleUrls: ['./progress-bar.component.scss']\n})\nexport class ProgressBarComponent implements OnInit {\n\n  @Input() value: number = 15;\n  @Input() max: number = 100;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  getWidth(): number {\n    let result = this.value / this.max;\n    result = result*100;\n    result = Math.min(result, 100);\n    result = Math.max(0, result);\n    return result;\n  }\n\n}\n","<div class=\"bar-outer\">\n  <div class=\"bar-inner\" [style.width]=\"getWidth() + '%'\"></div>\n</div>\n","<div class=\"game-section\">\n  <div class=\"local-ventures\">\n    <div class=\"venture\" fxLayout=\"row\" *ngFor=\"let venture of getVentures()\">\n      <div fxFlex=\"30\"></div>\n      <div fxFlex=\"30\" fxLayout=\"row\" class=\"venture-left\">\n        <game-button fxFlex=\"60\" (click)=\"selectVenture(venture)\">{{venture.name}}</game-button>\n        <div fxFlex=\"40\">{{venture.completions}}</div>\n      </div>\n      <div fxFlex=\"70\" class=\"venture-right\" fxLayout=\"column\">\n        <div>{{venture.encounterName}}</div>\n        <progress-bar [value]=\"venture.progress\" [max]=\"venture.progressMax\"></progress-bar>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Venture } from 'src/app/models/venture';\nimport { GameService } from 'src/app/services/game.service';\n\n@Component({\n  selector: 'app-location-panel',\n  templateUrl: './location-panel.component.html',\n  styleUrls: ['./location-panel.component.scss']\n})\nexport class LocationPanelComponent implements OnInit {\n\n  constructor(private _gameService: GameService) { }\n\n  public localVentures: Venture[] = [];\n\n  ngOnInit(): void {\n  }\n\n  getVentures(): Venture[] {\n    return this._gameService.ventures;\n  }\n\n  // ======Display Getters======\n\n  // ======Click Handlers======\n  selectVenture(v: Venture): void {\n    this._gameService.selectVenture(v);\n  }\n\n}\n","<div class=\"game-section\">\n  <div class=\"messages\">\n    <div class=\"message\" *ngFor=\"let message of messageBuffer\">\n      {{message}}\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { MessageService } from 'src/app/services/message.service';\n\n@Component({\n  selector: 'app-message-panel',\n  templateUrl: './message-panel.component.html',\n  styleUrls: ['./message-panel.component.scss']\n})\nexport class MessagePanelComponent implements OnInit {\n\n  constructor(private _messageService: MessageService) { }\n\n  public messageBuffer: string[] = [];\n  public messageBufferSize: number = 10;\n\n  ngOnInit(): void {\n    this._messageService.msgFeed.subscribe(x => this.onMessage(x));\n  }\n\n  onMessage(msg: string): void {\n    this.messageBuffer.push(msg);\n    while (this.messageBuffer.length > this.messageBufferSize) {\n      this.messageBuffer.splice(0,1);\n    }\n  }\n\n}\n","\r\nexport class Character {\r\n  name: string;\r\n\r\n  body: number;\r\n\r\n  stamina: number;\r\n  maxStamina: number;\r\n\r\n  level: number;\r\n  xp: number;\r\n}\r\n","\r\nexport class Venture {\r\n  public name: string;\r\n  public encounterName: string = null;\r\n  public progress: number = 0;\r\n  public progressMax: number = 100;\r\n  public completions: number = 0;\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'displayNumber'\n})\nexport class DisplayNumberPipe implements PipeTransform {\n\n  transform(value: number, args?: any): string {\n\n    let prefix = '';\n    let suffix = '';\n    if (value < 0) {prefix = '-'; }\n    value = Math.abs(value);\n\n    if (value < 1000) {\n      return prefix + this.getSuffixedValue(value, suffix);\n    }\n\n    const decimalPlaces = Math.floor(Math.log10(value));\n    if (decimalPlaces < 6) {\n      value = (value / 1000);\n      suffix = 'K';\n    } else {\n      value = (value / 1000000);\n      suffix = 'M';\n    }\n\n    return prefix + this.getSuffixedValue(value, suffix);\n  }\n\n  getSuffixedValue(value: number, suffix: string): string {\n    if (value - Math.floor(value) > 0.01) {\n      return value.toFixed(2) + suffix;\n    }\n    return value.toFixed(0) + suffix;\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Character } from '../models/character';\nimport { Venture } from '../models/venture';\nimport { DieDef, DIE_LIBRARY } from '../staticData/dieDefinitions';\nimport { VentureDef, VENTURE_LIBRARY } from '../staticData/ventureDefinitions';\nimport { MessageService } from './message.service';\nimport { TimeService } from './time.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GameService {\n\n  public character: Character = null;\n  public ventures: Venture[] = [];\n\n  public ap: number = 0;\n  public dieRank: number = 0;\n\n  public targetVenture: string;\n  public resting: boolean = false;\n\n  private _init: boolean = false;\n\n  constructor(private _timeService: TimeService, private _messageService: MessageService) { }\n\n  initVentures(): void {\n    this.ventures = [];\n    VENTURE_LIBRARY.forEach(def => {\n      const v = new Venture();\n      v.name = def.name;\n      this.ventures.push(v);\n    });\n  }\n\n  initSim(): void {\n    if (this._init) {return;}\n    this._timeService.tick.subscribe(x => this.tick(x));\n    this._init = true;\n  }\n\n  // ======Simulation======\n\n  tick(dT: number): void {\n    if (this.character == null) {return;}\n\n    // Do Rest\n    if (this.resting) {\n      this.character.stamina += 5*dT;\n      if (this.character.stamina >= this.character.maxStamina) {\n        this.character.stamina = this.character.maxStamina;\n        this.resting = false;\n      }\n    }\n\n    // Progress current venture\n    else if (this.targetVenture != null) {\n      const venture = this.ventures.find(x => x.name == this.targetVenture);\n      if (venture == null) {return;}\n\n      // If there isn't an encounter, init an encounter\n      if (venture.encounterName == null) {\n        this.startEncounter(venture);\n      }\n\n      venture.progress += 7*this.character.body*dT;\n      this.character.stamina -= dT;\n\n      if (this.character.stamina <= 0) {this.resting = true;}\n\n      if (venture.progress > venture.progressMax) {\n        venture.completions++;\n        venture.progress = 0;\n        this._messageService.addMessage(\"You slay the \" + venture.encounterName + \".\");\n        this.startEncounter(venture);\n        this.gainXp(Math.floor(Math.random()*75 + 75));\n      }\n\n    }\n\n    // Degen venture progress\n    this.ventures.forEach(x => {\n      if (x.progress > 0 && (this.resting || this.targetVenture != x.name)) {\n        x.progress -= 4*dT;\n        if (x.progress <= 0) {\n          x.progress = 0;\n          x.encounterName = null;\n        }\n      }\n    });\n  }\n\n  // ======Character Operations======\n\n  rollNewCharacter(): void {\n    const die = this.getCurrentDie();\n    this.character = new Character();\n    this.character.name = \"Bob the Adventurer\";\n    this.character.xp = 0;\n    this.character.level = 1;\n\n    this.character.body = die.roll();\n\n    this.character.maxStamina = (this.character.body+2)*3;\n    this.character.stamina = this.character.maxStamina;\n\n    this.targetVenture = null;\n    this.resting = false;\n\n    this._messageService.addMessage(\"Welcome, \" + this.character.name + \"!\");\n\n    this.initVentures();\n    this.initSim();\n  }\n\n  getLevelCost(level: number): number {\n    return 150 + (((level*level)-2)*135);\n  }\n\n  rest(): void {\n    this.resting = true;\n  }\n\n  gainXp(xp: number): void {\n    this.character.xp += xp;\n\n    const nextLevelCost = this.getLevelCost(this.character.level+1);\n    if (this.character.xp >= nextLevelCost) {\n      this.character.xp -= nextLevelCost;\n      this.gainLevel();\n    }\n  }\n\n  gainLevel(): void {\n    this.character.level++;\n    const newLevel = this.character.level;\n    this._messageService.addMessage(\"You have reached level \" + newLevel + \"!\");\n\n    const die = this.getCurrentDie();\n    const bodyIncrease = Math.floor(die.roll()/3);\n    if (bodyIncrease > 0) {\n      this._messageService.addMessage(\"Your Body has increased by \" + bodyIncrease + \".\");\n      this.character.body += bodyIncrease;\n    }\n\n    this.character.maxStamina = (this.character.body+2)*3;\n    this.character.stamina = this.character.maxStamina;\n\n    const newAp = Math.max(0, newLevel*newLevel - 3);\n    this.ap += newAp;\n    this._messageService.addMessage(\"You have gained \" + newAp + \" AP.\");\n  }\n\n  //======Venture Operations======\n\n  getVentureDef(name: string): VentureDef {\n    return VENTURE_LIBRARY.find(x => x.name == name);\n  }\n\n  selectVenture(venture: Venture): void {\n    this.targetVenture = venture.name;\n  }\n\n  startEncounter(venture: Venture): void {\n    const def = this.getVentureDef(venture.name);\n    const encounter = def.getRandomEncounter();\n    venture.encounterName = encounter;\n  }\n\n  //======Die Operations======\n\n  getCurrentDie(): DieDef {\n    return DIE_LIBRARY[this.dieRank];\n  }\n\n  getNextDie(): DieDef {\n    if (DIE_LIBRARY.length <= this.dieRank+1) {return null;}\n    return DIE_LIBRARY[this.dieRank+1];\n  }\n\n  upgradeDie(): void {\n    if (DIE_LIBRARY.length <= this.dieRank+1) {return;}\n    this.dieRank++;\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MessageService {\n\n  msgFeed: Subject<string> = new Subject();\n\n  constructor() { }\n\n  addMessage(message: string) {\n    this.msgFeed.next(message);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { interval, Subject, Subscription } from 'rxjs';\n\nconst tickRate = 100;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TimeService {\n\n  tick: Subject<number> = new Subject();\n  private _timerSubscription: Subscription = null;\n\n  constructor() { }\n\n  startGame() {\n    if (this._timerSubscription != null) {\n      this._timerSubscription.unsubscribe();\n    }\n    this._timerSubscription = interval(tickRate).subscribe(x => this.tick.next(tickRate/1000));\n  }\n}\n","\r\nexport class DieDef {\r\n  constructor(\r\n    public count: number,\r\n    public faces: number,\r\n    public cost: number\r\n    ) { }\r\n\r\n    roll(): number {\r\n      let total = 0;\r\n      for (let i = 0; i < this.count; i++) {\r\n        total += Math.floor(Math.random()*this.faces) + 1;\r\n      }\r\n      return total;\r\n    }\r\n}\r\n\r\nexport const DIE_LIBRARY: DieDef[] = [\r\n  new DieDef(1, 4, 1),\r\n  new DieDef(1, 6, 1),\r\n  new DieDef(1, 8, 5),\r\n  new DieDef(1, 10, 8),\r\n  new DieDef(2, 6, 14),\r\n  new DieDef(2, 8, 20),\r\n  new DieDef(3, 6, 30),\r\n  new DieDef(3, 8, 45),\r\n  new DieDef(4, 6, 70),\r\n  new DieDef(4, 8, 100),\r\n  new DieDef(6, 6, 150)\r\n];\r\n","\r\n\r\nexport class VentureDef {\r\n  name: string;\r\n  encounters: string[] = [];\r\n  prereqName: string;\r\n  prereqRank: number;\r\n\r\n  constructor (\r\n    name: string\r\n  ) {\r\n    this.name = name;\r\n  }\r\n\r\n  public getRandomEncounter(): string {\r\n    const random = Math.floor(Math.random()*this.encounters.length);\r\n    return this.encounters[random];\r\n  }\r\n\r\n  public addEncounter(name: string) {\r\n    this.encounters.push(name);\r\n    return this;\r\n  }\r\n\r\n  public addPrereq(name: string, rank: number) {\r\n    this.prereqName = name;\r\n    this.prereqRank = rank;\r\n    return this;\r\n  }\r\n}\r\n\r\nexport const VENTURE_LIBRARY: VentureDef[] = [\r\n  new VentureDef(\"The Innkeeper's Basement\")\r\n    .addEncounter(\"rat\")\r\n    .addEncounter(\"slime mold\")\r\n    .addEncounter(\"brutal rat\"),\r\n  new VentureDef(\"The Thicket\")\r\n    .addPrereq(\"The Innkeeper's Basement\", 5)\r\n    .addEncounter(\"brutal rat\")\r\n    .addEncounter(\"wolf\")\r\n    .addEncounter(\"felsprite\")\r\n    .addEncounter(\"dire rat\")\r\n    .addEncounter(\"goblin scout\"),\r\n  new VentureDef(\"The Goblin Caves\")\r\n    .addPrereq(\"The Thicket\", 5)\r\n    .addEncounter(\"dire rat\")\r\n    .addEncounter(\"goblin scout\")\r\n    .addEncounter(\"goblin guard\")\r\n    .addEncounter(\"goblin sage\")\r\n    .addEncounter(\"hobgoblin overseer\"),\r\n  new VentureDef(\"The Lost Tomb\")\r\n    .addPrereq(\"The Lost Tomb\", 5)\r\n    .addEncounter(\"goblin sage\")\r\n    .addEncounter(\"goblin shaman\")\r\n    .addEncounter(\"hobgoblin graverobber\")\r\n    .addEncounter(\"corpse wight\")\r\n    .addEncounter(\"tomb lord\")\r\n];\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}