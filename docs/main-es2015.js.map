{"version":3,"sources":["./$_lazy_route_resources|lazy|groupOptions: {}|namespace object","./src/app/app.component.html","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/components/character-panel/character-panel.component.html","./src/app/components/character-panel/character-panel.component.ts","./src/app/components/character-sheet-panel/character-sheet-panel.component.ts","./src/app/components/character-sheet-panel/character-sheet-panel.component.html","./src/app/components/common/game-button/game-button.component.ts","./src/app/components/common/game-button/game-button.component.html","./src/app/components/common/progress-bar/progress-bar.component.ts","./src/app/components/common/progress-bar/progress-bar.component.html","./src/app/components/location-panel/location-panel.component.html","./src/app/components/location-panel/location-panel.component.ts","./src/app/components/message-panel/message-panel.component.html","./src/app/components/message-panel/message-panel.component.ts","./src/app/components/nav-panel/nav-panel.component.ts","./src/app/components/nav-panel/nav-panel.component.html","./src/app/components/skill-panel/skill-panel.component.ts","./src/app/components/skill-panel/skill-panel.component.html","./src/app/components/status-panel/status-panel.component.html","./src/app/components/status-panel/status-panel.component.ts","./src/app/models/character.ts","./src/app/models/venture.ts","./src/app/pipes/display-number.pipe.ts","./src/app/services/character.service.ts","./src/app/services/game.service.ts","./src/app/services/message.service.ts","./src/app/services/time.service.ts","./src/app/staticData/dieDefinitions.ts","./src/app/staticData/encounterDefinitions.ts","./src/app/staticData/itemDefinitions.ts","./src/app/staticData/perkDefinitions.ts","./src/app/staticData/regionDefinitions.ts","./src/app/staticData/skillDefinitions.ts","./src/app/staticData/ventureDefinitions.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 8255;\nmodule.exports = webpackEmptyAsyncContext;","<div fxLayout=\"column\" class=\"layout-container\">\r\n  <div fxFlex=\"none\" class=\"layout-header\">\r\n    Character Sheet Idle 0.1 --- Work in progress\r\n  </div>\r\n  <div fxFlex=\"none\" class=\"layout-top\">\r\n    <app-status-panel></app-status-panel>\r\n  </div>\r\n  <div fxFlex=\"80\" class=\"layout-center\">\r\n    <div fxFlex=\"none\" class=\"layout-center-left\">\r\n      <app-nav-panel (selectCharSheet)=\"onSelectCharSheet()\" (selectRegion)=\"onSelectRegion()\"></app-nav-panel>\r\n    </div>\r\n    <div fxFlex=\"80\" class=\"layout-center-center\">\r\n      <app-location-panel *ngIf=\"showLocation\"></app-location-panel>\r\n      <app-character-sheet-panel *ngIf=\"showCharacterSheet\"></app-character-sheet-panel>\r\n    </div>\r\n    <div fxFlex=\"20\" class=\"layout-center-right\">\r\n      <app-skill-panel></app-skill-panel>\r\n    </div>\r\n  </div>\r\n  <div fxFlex=\"20\" fxLayout=\"row\" class=\"layout-bottom\">\r\n    <div fxFlex=\"60\" class=\"layout-left-bottom\">\r\n      <app-character-panel></app-character-panel>\r\n    </div>\r\n    <div fxFlex=\"40\" class=\"layout-right-bottom\">\r\n      <app-message-panel></app-message-panel>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { TimeService } from './services/time.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent implements OnInit {\r\n  title = 'char-sheet-idle';\r\n\r\n  showLocation = true;\r\n  showCharacterSheet = false;\r\n\r\n  constructor(private _timeService: TimeService) { }\r\n\r\n  ngOnInit(): void {\r\n    this._timeService.startGame();\r\n  }\r\n\r\n  // ======Nav handlers======\r\n  onSelectCharSheet() {\r\n    this.showCharacterSheet = true;\r\n    this.showLocation = false;\r\n  }\r\n\r\n  onSelectRegion() {\r\n    this.showLocation = true;\r\n    this.showCharacterSheet = false;\r\n  }\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { FlexModule } from '@angular/flex-layout';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { LocationPanelComponent } from './components/location-panel/location-panel.component';\r\nimport { CharacterPanelComponent } from './components/character-panel/character-panel.component';\r\nimport { MessagePanelComponent } from './components/message-panel/message-panel.component';\r\nimport { GameButtonComponent } from './components/common/game-button/game-button.component';\r\nimport { ProgressBarComponent } from './components/common/progress-bar/progress-bar.component';\r\nimport { DisplayNumberPipe } from './pipes/display-number.pipe';\r\nimport { SkillPanelComponent } from './components/skill-panel/skill-panel.component';\r\nimport { StatusPanelComponent } from './components/status-panel/status-panel.component';\r\nimport { NavPanelComponent } from './components/nav-panel/nav-panel.component';\r\nimport { CharacterSheetPanelComponent } from './components/character-sheet-panel/character-sheet-panel.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    LocationPanelComponent,\r\n    CharacterPanelComponent,\r\n    MessagePanelComponent,\r\n    GameButtonComponent,\r\n    ProgressBarComponent,\r\n    DisplayNumberPipe,\r\n    SkillPanelComponent,\r\n    StatusPanelComponent,\r\n    NavPanelComponent,\r\n    CharacterSheetPanelComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    FlexModule\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","<div fxLayout=\"row\" class=\"game-section\">\r\n  <div fxLayout=\"column\" class=\"reroll-panel\">\r\n    <game-button (click)=\"rollNewCharacter()\">Roll New Character</game-button>\r\n    <span *ngIf=\"getCharacter() != null\">\r\n    <div>Current die: {{dieCount}}d{{dieFaces}}</div>\r\n    <br />\r\n    <div>AP: {{ap}}</div>\r\n    <game-button *ngIf=\"getNextDieCost() != null\" (click)=\"upgradeDie()\">\r\n      Upgrade Die: {{getNextDieCost()}} AP\r\n    </game-button>\r\n    <br />\r\n    <game-button *ngIf=\"getNextStatUnlockName() != null\" (click)=\"unlockStat()\">\r\n      Unlock {{getNextStatUnlockName()}}: {{getNextStatUnlockCost()}} AP\r\n    </game-button>\r\n    </span>\r\n  </div>\r\n  <div fxLayout=\"row\" class=\"character-sheet\" *ngIf=\"getCharacter() != null\">\r\n    <div fxLayout=\"column\" class=\"character-sheet-left\">\r\n      <h2>{{name}}</h2>\r\n      <div fxLayout=\"row\">\r\n        <div fxFlex=\"80\">Stamina: {{stamina | displayNumber}}/{{maxStamina}}</div>\r\n        <game-button (click)=\"rest()\">Rest</game-button>\r\n      </div>\r\n      <progress-bar [value]=\"stamina\" [max]=\"maxStamina\"></progress-bar>\r\n      <br />\r\n      <div>Level {{level}}</div>\r\n      <div>XP: {{xp}}/{{xpMax}}</div>\r\n      <progress-bar [value]=\"xp\" [max]=\"xpMax\"></progress-bar>\r\n    </div>\r\n    <div fxLayout=\"column\" class=\"character-sheet-right\">\r\n      <div>Resting at the inn</div>\r\n      <br />\r\n      <br />\r\n      <div *ngFor=\"let stat of stats | keyvalue\">\r\n        {{stat.key}}:  {{stat.value}}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Stat } from 'src/app/common/gameConstants';\r\nimport { Character } from 'src/app/models/character';\r\nimport { CharacterService } from 'src/app/services/character.service';\r\nimport { GameService } from 'src/app/services/game.service';\r\nimport { DieDef } from 'src/app/staticData/dieDefinitions';\r\n\r\n@Component({\r\n  selector: 'app-character-panel',\r\n  templateUrl: './character-panel.component.html',\r\n  styleUrls: ['./character-panel.component.scss']\r\n})\r\nexport class CharacterPanelComponent implements OnInit {\r\n\r\n  constructor(private _gameService: GameService, private _characterService: CharacterService) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  getCharacter(): Character {\r\n    return this._characterService.character;\r\n  }\r\n\r\n  getAP(): number {\r\n    return this._gameService.ap;\r\n  }\r\n\r\n  getDie(): DieDef {\r\n    return this._gameService.getCurrentDie();\r\n  }\r\n\r\n  getNextDieCost(): number {\r\n    let result = null;\r\n    const nextDie = this._gameService.getNextDie();\r\n    if (nextDie != null) {result = nextDie.cost;}\r\n    return result;\r\n  }\r\n\r\n  getNextStatUnlockName() {\r\n    const nextUnlock = this._gameService.getNextStatUnlock();\r\n    if (nextUnlock == null) {return null;}\r\n    return nextUnlock.stat;\r\n  }\r\n\r\n  getNextStatUnlockCost() {\r\n    const nextUnlock = this._gameService.getNextStatUnlock();\r\n    if (nextUnlock == null) {return null;}\r\n    return nextUnlock.cost;\r\n  }\r\n\r\n  // ======Display Getters======\r\n\r\n  get name() {\r\n    return this.getCharacter().name;\r\n  }\r\n\r\n  get level() {\r\n    return this.getCharacter().level;\r\n  }\r\n\r\n  get xp() {\r\n    return this.getCharacter().xp;\r\n  }\r\n\r\n  get xpMax() {\r\n    return this._characterService.getLevelCost(this.level+1);\r\n  }\r\n\r\n  get stamina() {\r\n    return this.getCharacter().stamina;\r\n  }\r\n\r\n  get maxStamina() {\r\n    return this.getCharacter().maxStamina;\r\n  }\r\n\r\n  get stats() {\r\n    return this.getCharacter().stats;\r\n  }\r\n\r\n  getStat(stat: Stat) {\r\n    return this.getCharacter().stat(stat);\r\n  }\r\n\r\n  get ap() {\r\n    return this._gameService.ap;\r\n  }\r\n\r\n  get dieCount() {\r\n    return this.getDie().count;\r\n  }\r\n\r\n  get dieFaces() {\r\n    return this.getDie().faces;\r\n  }\r\n\r\n  // ======Click Handlers======\r\n\r\n  rollNewCharacter(): void {\r\n    this._characterService.rollNewCharacter();\r\n  }\r\n\r\n  upgradeDie(): void {\r\n    this._gameService.upgradeDie();\r\n  }\r\n\r\n  unlockStat(): void {\r\n    this._gameService.unlockStat();\r\n  }\r\n\r\n  rest(): void {\r\n    this._gameService.rest();\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Character, Perk } from 'src/app/models/character';\r\nimport { CharacterService } from 'src/app/services/character.service';\r\nimport { GameService } from 'src/app/services/game.service';\r\nimport { getPerkDef } from 'src/app/staticData/perkDefinitions';\r\n\r\n@Component({\r\n  selector: 'app-character-sheet-panel',\r\n  templateUrl: './character-sheet-panel.component.html',\r\n  styleUrls: ['./character-sheet-panel.component.scss']\r\n})\r\nexport class CharacterSheetPanelComponent implements OnInit {\r\n\r\n  constructor(private _gameService: GameService, private _characterService: CharacterService) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  getCharacter(): Character {\r\n    return this._characterService.character;\r\n  }\r\n\r\n  // ======Display Getters======\r\n\r\n  get name() {\r\n    return this.getCharacter().name;\r\n  }\r\n\r\n  get level() {\r\n    return this.getCharacter().level;\r\n  }\r\n\r\n  get xp() {\r\n    return this.getCharacter().xp;\r\n  }\r\n\r\n  get stats() {\r\n    return this.getCharacter().stats;\r\n  }\r\n\r\n  get activePerks() {\r\n    return this.getCharacter().perks;\r\n  }\r\n\r\n  get availablePerks() {\r\n    return this._characterService.availablePerks;\r\n  }\r\n\r\n  perkCost(perk: Perk) {\r\n    return getPerkDef(perk.name).cost;\r\n  }\r\n\r\n  // ======Click Handlers======\r\n\r\n  selectPerk(perk: Perk) {\r\n    this._characterService.buyPerk(perk.name);\r\n  }\r\n\r\n}\r\n","<div fxLayout=\"row\" *ngIf=\"getCharacter() != null\" class=\"game-section\">\r\n  <div fxLayout=\"column\" fxFlex=\"50\" class=\"character-sheet-left\">\r\n    <h2>Bob the Adventurer</h2>\r\n    <div class=\"stat-list\">\r\n      <div class=\"stat\" *ngFor=\"let stat of stats | keyvalue\">\r\n        {{stat.key}}: {{stat.value}}\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div fxLayout=\"column\" fxFlex=\"50\" class=\"character-sheet-right\">\r\n    <h3>Active Perks</h3>\r\n    <div class=\"active-perk-list\">\r\n      <div class=\"active-perk\" *ngFor=\"let perk of activePerks\">\r\n        {{perk.name}}\r\n      </div>\r\n    </div>\r\n    <h3>Perk Points: 3</h3>\r\n    <div fxLayout=\"row wrap\" class=\"available-perk-list\">\r\n      <div fxFlex=\"none\" class=\"available-perk\" *ngFor=\"let perk of availablePerks\">\r\n        <game-button (click)=\"selectPerk(perk)\">{{perk.name}} ({{perkCost(perk)}} AP)</game-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, ContentChild, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\n@Component({\n  selector: 'game-button',\n  templateUrl: './game-button.component.html',\n  styleUrls: ['./game-button.component.scss']\n})\nexport class GameButtonComponent implements OnInit {\n\n  @Output() click = new EventEmitter<void>();\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  onClick(event: MouseEvent) {\n    event.stopPropagation();\n    this.click.emit();\n  }\n\n}\n","<div class=\"game-btn\" (click)=\"onClick($event)\">\n  <span class=\"text\"><ng-content></ng-content></span>\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'progress-bar',\n  templateUrl: './progress-bar.component.html',\n  styleUrls: ['./progress-bar.component.scss']\n})\nexport class ProgressBarComponent implements OnInit {\n\n  @Input() value: number = 15;\n  @Input() max: number = 100;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  getWidth(): number {\n    let result = this.value / this.max;\n    result = result*100;\n    result = Math.min(result, 100);\n    result = Math.max(0, result);\n    return result;\n  }\n\n}\n","<div class=\"bar-outer\">\n  <div class=\"bar-inner\" [style.width]=\"getWidth() + '%'\"></div>\n</div>\n","<div *ngIf=\"getCharacter() != null\" class=\"game-section\">\r\n  <div fxLayout=\"row\" class=\"region-status\">\r\n    <div fxFlex=\"34\" fxLayout=\"column\" class=\"region-status-item\">\r\n      <div>Scouting</div>\r\n      <progress-bar></progress-bar>\r\n    </div>\r\n    <div fxFlex=\"33\" fxLayout=\"column\" class=\"region-status-item\">\r\n      <div>Renown</div>\r\n      <progress-bar></progress-bar>\r\n    </div>\r\n    <div fxFlex=\"33\" fxLayout=\"column\" class=\"region-status-item\">\r\n      <div>Infamy</div>\r\n      <progress-bar></progress-bar>\r\n    </div>\r\n  </div>\r\n  <div class=\"local-ventures\">\r\n    <div class=\"venture\" fxLayout=\"row\" *ngFor=\"let venture of getVentures()\">\r\n      <div fxFlex=\"30\"></div>\r\n      <div fxFlex=\"30\" fxLayout=\"row\" class=\"venture-left\">\r\n        <game-button fxFlex=\"60\" (click)=\"selectVenture(venture)\">{{venture.name}}</game-button>\r\n        <div fxFlex=\"40\">{{venture.completions}}</div>\r\n      </div>\r\n      <div fxFlex=\"70\" class=\"venture-right\" fxLayout=\"column\">\r\n        <div>{{venture.encounterName}}</div>\r\n        <progress-bar [value]=\"venture.progress\" [max]=\"venture.progressMax\"></progress-bar>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Character } from 'src/app/models/character';\r\nimport { Venture } from 'src/app/models/venture';\r\nimport { CharacterService } from 'src/app/services/character.service';\r\nimport { GameService } from 'src/app/services/game.service';\r\n\r\n@Component({\r\n  selector: 'app-location-panel',\r\n  templateUrl: './location-panel.component.html',\r\n  styleUrls: ['./location-panel.component.scss']\r\n})\r\nexport class LocationPanelComponent implements OnInit {\r\n\r\n  constructor(private _gameService: GameService, private _characterService: CharacterService) { }\r\n\r\n  public localVentures: Venture[] = [];\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  getCharacter(): Character {\r\n    return this._characterService.character;\r\n  }\r\n\r\n  getVentures(): Venture[] {\r\n    return this._gameService.ventures;\r\n  }\r\n\r\n  // ======Display Getters======\r\n\r\n  // ======Click Handlers======\r\n  selectVenture(v: Venture): void {\r\n    this._gameService.selectVenture(v);\r\n  }\r\n\r\n}\r\n","<div class=\"game-section\">\n  <div class=\"messages\">\n    <div class=\"message\" *ngFor=\"let message of messageBuffer\">\n      {{message}}\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\r\nimport { MessageService } from 'src/app/services/message.service';\r\n\r\n@Component({\r\n  selector: 'app-message-panel',\r\n  templateUrl: './message-panel.component.html',\r\n  styleUrls: ['./message-panel.component.scss']\r\n})\r\nexport class MessagePanelComponent implements OnInit {\r\n\r\n  constructor(private _messageService: MessageService) { }\r\n\r\n  public messageBuffer: string[] = [];\r\n  public messageBufferSize: number = 8;\r\n\r\n  ngOnInit(): void {\r\n    this._messageService.msgFeed.subscribe(x => this.onMessage(x));\r\n  }\r\n\r\n  onMessage(msg: string): void {\r\n    this.messageBuffer.push(msg);\r\n    while (this.messageBuffer.length > this.messageBufferSize) {\r\n      this.messageBuffer.splice(0,1);\r\n    }\r\n  }\r\n\r\n}\r\n","import { Component, EventEmitter, OnInit, Output } from '@angular/core';\r\nimport { REGION_LIBRARY } from 'src/app/staticData/regionDefinitions';\r\n\r\n@Component({\r\n  selector: 'app-nav-panel',\r\n  templateUrl: './nav-panel.component.html',\r\n  styleUrls: ['./nav-panel.component.scss']\r\n})\r\nexport class NavPanelComponent implements OnInit {\r\n\r\n  @Output() selectRegion = new EventEmitter<string>();\r\n  @Output() selectCharSheet = new EventEmitter<void>();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  get regions(): string[] {\r\n    return REGION_LIBRARY.map(x => x.name);\r\n  }\r\n\r\n  // ======Click Handlers======\r\n\r\n  onSelectCharSheet() {\r\n    this.selectCharSheet.emit();\r\n  }\r\n\r\n  onSelectRegion(region: string) {\r\n    this.selectRegion.emit(region);\r\n  }\r\n\r\n}\r\n","<div class=\"game-section\">\r\n  <div class=\"nav-top\">\r\n    <game-button (click)=\"onSelectCharSheet()\">Character Sheet</game-button>\r\n  </div>\r\n  <div class=\"nav-regions\">\r\n    <div class=\"region\" *ngFor=\"let region of regions\">\r\n      <game-button (click)=\"onSelectRegion(region)\">{{region}}</game-button>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Skill } from 'src/app/models/character';\r\nimport { CharacterService } from 'src/app/services/character.service';\r\nimport { GameService } from 'src/app/services/game.service';\r\nimport { getSkillDef } from 'src/app/staticData/skillDefinitions';\r\n\r\n@Component({\r\n  selector: 'app-skill-panel',\r\n  templateUrl: './skill-panel.component.html',\r\n  styleUrls: ['./skill-panel.component.scss']\r\n})\r\nexport class SkillPanelComponent implements OnInit {\r\n\r\n  constructor(private _gameService: GameService, private _characterService: CharacterService) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  getCombatSkills(): Skill[] {\r\n    return this.getSkills().filter(x => getSkillDef(x.name).group == \"combat\");\r\n  }\r\n\r\n  getDefenseSkills(): Skill[] {\r\n    return this.getSkills().filter(x => getSkillDef(x.name).group == \"defense\");\r\n  }\r\n\r\n  getOtherSkills(): Skill[] {\r\n    return this.getSkills().filter(x => getSkillDef(x.name).group == \"other\");\r\n  }\r\n\r\n  getSkills(): Skill[] {\r\n    if (this._characterService.character == null) {return null;}\r\n    return this._characterService.character.skills;\r\n  }\r\n\r\n  // ======Display Getters======\r\n  progressMax(skill: Skill): number {\r\n    return this._characterService.getSkillRankCost(skill.name, skill.rank+1);\r\n  }\r\n\r\n}\r\n","<div class=\"game-section\" *ngIf=\"getSkills() != null\">\r\n  <br />\r\n  <div class=\"combat-skills\">\r\n    <div class=\"skill\" fxLayout=\"row\" *ngFor=\"let skill of getCombatSkills()\">\r\n      <div fxFlex=\"10\" class=\"skill-total\">\r\n        {{skill.total()}}\r\n      </div>\r\n      <div fxFlex=\"90\" fxLayout=\"column\">\r\n        <div fxFlex=\"90\" fxLayout=\"row\" class=\"skill-text\">\r\n          <div fxFlex=\"90\">{{skill.name}}</div>\r\n          <div fxFlex=\"10\">{{skill.rank}}</div>\r\n        </div>\r\n        <progress-bar fxFlex=\"10\" [value]=\"skill.progress\" [max]=\"progressMax(skill)\"></progress-bar>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <br />\r\n  <div class=\"defense-skills\">\r\n    <div class=\"skill\" fxLayout=\"row\" *ngFor=\"let skill of getDefenseSkills()\">\r\n      <div fxFlex=\"10\" class=\"skill-total\">\r\n        {{skill.total()}}\r\n      </div>\r\n      <div fxFlex=\"90\" fxLayout=\"column\">\r\n        <div fxFlex=\"90\" fxLayout=\"row\" class=\"skill-text\">\r\n          <div fxFlex=\"90\">{{skill.name}}</div>\r\n          <div fxFlex=\"10\">{{skill.rank}}</div>\r\n        </div>\r\n        <progress-bar fxFlex=\"10\" [value]=\"skill.progress\" [max]=\"progressMax(skill)\"></progress-bar>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <br />\r\n  <div class=\"other-skills\">\r\n    <div class=\"skill\" fxLayout=\"row\" *ngFor=\"let skill of getOtherSkills()\">\r\n      <div fxFlex=\"10\" class=\"skill-total\">\r\n        {{skill.total()}}\r\n      </div>\r\n      <div fxFlex=\"90\" fxLayout=\"column\">\r\n        <div fxFlex=\"90\" fxLayout=\"row\" class=\"skill-text\">\r\n          <div fxFlex=\"90\">{{skill.name}}</div>\r\n          <div fxFlex=\"10\">{{skill.rank}}</div>\r\n        </div>\r\n        <progress-bar fxFlex=\"10\" [value]=\"skill.progress\" [max]=\"progressMax(skill)\"></progress-bar>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","<div fxLayout=\"row\" *ngIf=\"getCharacter() != null\" class=\"game-section\">\r\n  <div fxFlex=\"30\" class=\"status-section status-level\">\r\n    Level {{level}}\r\n    <progress-bar [value]=\"xp\" [max]=\"xpMax\"></progress-bar>\r\n  </div>\r\n  <div fxFlex=\"30\" class=\"status-section status-stamina\">\r\n    Stamina: {{stamina | displayNumber}}/{{maxStamina | displayNumber}}\r\n    <progress-bar [value]=\"stamina\" [max]=\"maxStamina\"></progress-bar>\r\n  </div>\r\n  <div fxFlex=\"30\" class=\"status-section status-venture\">\r\n    {{ventureName}}\r\n    <progress-bar [value]=\"ventureProgress\" [max]=\"ventureProgressMax\"></progress-bar>\r\n  </div>\r\n  <div fxFlex=\"10\" class=\"status-section status-other\">\r\n    <div>AP: {{ap}}</div>\r\n    <div>Gold: 100</div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Character } from 'src/app/models/character';\r\nimport { Venture } from 'src/app/models/venture';\r\nimport { CharacterService } from 'src/app/services/character.service';\r\nimport { GameService } from 'src/app/services/game.service';\r\n\r\n@Component({\r\n  selector: 'app-status-panel',\r\n  templateUrl: './status-panel.component.html',\r\n  styleUrls: ['./status-panel.component.scss']\r\n})\r\nexport class StatusPanelComponent implements OnInit {\r\n\r\n  constructor(private _gameService: GameService, private _characterService: CharacterService) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  getCharacter(): Character {\r\n    return this._characterService.character;\r\n  }\r\n\r\n  getTargetVenture(): Venture {\r\n    const tgt = this._gameService.targetVenture;\r\n    if (tgt == null) {return null;}\r\n    return this._gameService.ventures.find(x => x.name == tgt);\r\n  }\r\n\r\n  // ======Display Getters======\r\n\r\n  get level() {\r\n    return this.getCharacter().level;\r\n  }\r\n\r\n  get xp() {\r\n    return this.getCharacter().xp;\r\n  }\r\n\r\n  get xpMax() {\r\n    return this._characterService.getLevelCost(this.level+1);\r\n  }\r\n\r\n  get stamina() {\r\n    return this.getCharacter().stamina;\r\n  }\r\n\r\n  get maxStamina() {\r\n    return this.getCharacter().maxStamina;\r\n  }\r\n\r\n  get ap() {\r\n    return this._gameService.ap;\r\n  }\r\n\r\n  get ventureName() {\r\n    const venture = this.getTargetVenture();\r\n    if (venture == null) {return \"\";}\r\n    let result = venture.name;\r\n    if (venture.encounterName != null) {\r\n      result += ` - ${venture.encounterName}`;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  get ventureProgress() {\r\n    const venture = this.getTargetVenture();\r\n    if (venture == null) {return 0;}\r\n    return venture.progress;\r\n  }\r\n\r\n  get ventureProgressMax() {\r\n    const venture = this.getTargetVenture();\r\n    if (venture == null) {return 100;}\r\n    return venture.progressMax;\r\n  }\r\n}\r\n","import { Stat } from \"../common/gameConstants\";\r\n\r\n\r\nexport class Character {\r\n  name: string;\r\n\r\n  stamina: number;\r\n  maxStamina: number;\r\n\r\n  level: number;\r\n  xp: number;\r\n\r\n  stats: Map<Stat, number> = new Map<Stat, number>();\r\n\r\n  skills: Skill[] = [];\r\n\r\n  perks: Perk[] = [];\r\n\r\n  stat(stat: Stat) {\r\n    if (!this.stats.has(stat)) {return 0;}\r\n    return this.stats.get(stat);\r\n  }\r\n\r\n  setStat(stat: Stat, value: number) {\r\n    this.stats.set(stat, value);\r\n  }\r\n\r\n  getStats() {\r\n    return this.stats.keys();\r\n  }\r\n\r\n  skill(skill: string) {\r\n    return this.skills.find(x => x.name == skill);\r\n  }\r\n\r\n  hasSkill(skill: string) {\r\n    return this.skills.some(x => x.name == skill);\r\n  }\r\n\r\n  addPerk(name: string) {\r\n    this.perks.push(new Perk(name));\r\n  }\r\n\r\n  hasPerk(name: string) {\r\n    return this.perks.some(x => x.name == name);\r\n  }\r\n}\r\n\r\nexport class Skill {\r\n  name: string;\r\n\r\n  rank: number = 1;\r\n  progress: number = 0;\r\n\r\n  itemBonus: number = 0;\r\n\r\n  constructor(name: string) {\r\n    this.name = name;\r\n  }\r\n\r\n  total(): number {\r\n    return this.rank + this.itemBonus;\r\n  }\r\n}\r\n\r\nexport class Perk {\r\n  name: string;\r\n\r\n  constructor(name: string) {\r\n    this.name = name;\r\n  }\r\n}\r\n","\r\nexport class Venture {\r\n  public name: string;\r\n  public encounterName: string = null;\r\n  public progress: number = 0;\r\n  public progressMax: number = 100;\r\n  public completions: number = 0;\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'displayNumber'\n})\nexport class DisplayNumberPipe implements PipeTransform {\n\n  transform(value: number, args?: any): string {\n\n    let prefix = '';\n    let suffix = '';\n    if (value < 0) {prefix = '-'; }\n    value = Math.abs(value);\n\n    if (value < 1000) {\n      return prefix + this.getSuffixedValue(value, suffix);\n    }\n\n    const decimalPlaces = Math.floor(Math.log10(value));\n    if (decimalPlaces < 6) {\n      value = (value / 1000);\n      suffix = 'K';\n    } else {\n      value = (value / 1000000);\n      suffix = 'M';\n    }\n\n    return prefix + this.getSuffixedValue(value, suffix);\n  }\n\n  getSuffixedValue(value: number, suffix: string): string {\n    if (value - Math.floor(value) > 0.01) {\n      return value.toFixed(2) + suffix;\n    }\n    return value.toFixed(0) + suffix;\n  }\n\n}\n","import { Injectable } from '@angular/core';\r\nimport { Character, Perk, Skill } from '../models/character';\r\nimport { EncounterDef } from '../staticData/encounterDefinitions';\r\nimport { getItemDef } from '../staticData/itemDefinitions';\r\nimport { PERK_LIBRARY } from '../staticData/perkDefinitions';\r\nimport { getSkillDef, SKILL_LIBRARY } from '../staticData/skillDefinitions';\r\nimport { GameService } from './game.service';\r\nimport { MessageService } from './message.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CharacterService {\r\n\r\n  private _gameService: GameService;\r\n\r\n  public character: Character = null;\r\n  public availablePerks: Perk[] = [];\r\n\r\n  public items: string[] = [];\r\n\r\n  constructor(private _messageService: MessageService) { }\r\n\r\n  setGameService(svc: GameService) {\r\n    this._gameService = svc;\r\n  }\r\n\r\n  rollNewCharacter(): void {\r\n    const die = this._gameService.getCurrentDie();\r\n    this.character = new Character();\r\n    this.character.name = \"Bob the Adventurer\";\r\n    this.character.xp = 0;\r\n    this.character.level = 1;\r\n\r\n    this._gameService.unlockedStats.forEach(x => {\r\n      this.character.setStat(x, die.roll());\r\n    });\r\n\r\n    this.initSkills();\r\n\r\n    // TODO: Sell old items\r\n    this.items = [];\r\n\r\n    this.character.maxStamina = (this.character.stat(\"body\")+2)*3;\r\n    this.character.stamina = this.character.maxStamina;\r\n\r\n    this._gameService.targetVenture = null;\r\n    this._gameService.resting = false;\r\n\r\n    this._messageService.addMessage(\"Welcome, \" + this.character.name + \"!\");\r\n\r\n    this._gameService.initVentures();\r\n    this._gameService.initSim();\r\n\r\n    this.updateSkills();\r\n    this.updateAvailablePerks();\r\n  }\r\n\r\n  // ======Level======\r\n\r\n  gainXp(xp: number): void {\r\n    this.character.xp += xp;\r\n\r\n    const nextLevelCost = this.getLevelCost(this.character.level+1);\r\n    if (this.character.xp >= nextLevelCost) {\r\n      this.character.xp -= nextLevelCost;\r\n      this.gainLevel();\r\n    }\r\n  }\r\n\r\n  gainLevel(): void {\r\n    this.character.level++;\r\n    const newLevel = this.character.level;\r\n    this._messageService.addMessage(\"You have reached level \" + newLevel + \"!\");\r\n\r\n    const die = this._gameService.getCurrentDie();\r\n    for (let stat of this.character.getStats()) {\r\n      const curStat = this.character.stat(stat);\r\n      const increase = Math.floor(die.roll()/3);\r\n      if (increase > 0) {\r\n        this._messageService.addMessage(`Your ${stat} has increased by ${increase}.`);\r\n        this.character.setStat(stat, curStat + increase);\r\n      }\r\n    }\r\n\r\n    this.character.maxStamina = (this.character.stat(\"body\")+2)*3;\r\n    this.character.stamina = this.character.maxStamina;\r\n\r\n    const newAp = Math.max(0, newLevel*newLevel - 3);\r\n    this._gameService.ap += newAp;\r\n    this._messageService.addMessage(\"You have gained \" + newAp + \" AP.\");\r\n\r\n    this.updateSkills();\r\n  }\r\n\r\n  getLevelCost(level: number): number {\r\n    return 150 + (((level*level)-4)*135);\r\n  }\r\n\r\n  // ======Skills======\r\n\r\n  initSkills(): void {\r\n    this.character.skills = [];\r\n    SKILL_LIBRARY.forEach(x => {\r\n      this.character.skills.push(new Skill(x.name));\r\n    });\r\n  }\r\n\r\n  updateSkills(): void {\r\n    this.character.skills.forEach(x => {\r\n      x.itemBonus = 0;\r\n    });\r\n\r\n    this.items.forEach(x => {\r\n      const def = getItemDef(x);\r\n\r\n      let canUse = true;\r\n      if (def.requiredStat != null) {\r\n        if (def.requiredStatAmount > this.character.stat(def.requiredStat)) {canUse = false;}\r\n      }\r\n\r\n      if (canUse) {\r\n        const skill = this.character.skill(def.skill);\r\n        if (skill != null) {\r\n          skill.itemBonus += def.strength;\r\n        }\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  bestSkillForEncounter(encounter: EncounterDef): string {\r\n    let bestSkill = null;\r\n    let bestStrength = 0;\r\n    encounter.skills.forEach(s => {\r\n      if (!this.character.hasSkill(s.skill)) {return;}\r\n      const skillDef = getSkillDef(s.skill);\r\n      if (this.character.stat(skillDef.stat) <= 0) {return;} // Can't use a skill with no supporting stat\r\n      const str = this.character.skill(s.skill).total() * s.strength;\r\n      if (str > bestStrength) {\r\n        bestSkill = s.skill;\r\n        bestStrength = str;\r\n      }\r\n    });\r\n\r\n    return bestSkill;\r\n  }\r\n\r\n  advanceSkill(skill: string, dT: number) {\r\n    const s = this.character.skill(skill);\r\n    const sDef = getSkillDef(skill);\r\n    const relatedStat = this.character.stat(sDef.stat);\r\n    s.progress += relatedStat*relatedStat*dT;\r\n\r\n    const nextRankCost = this.getSkillRankCost(skill, s.rank+1);\r\n    if (s.progress >= nextRankCost) {\r\n      s.progress -= nextRankCost;\r\n      s.rank++;\r\n      this._messageService.addMessage(`Your ${skill} skill has increased to ${s.rank}.`);\r\n    }\r\n  }\r\n\r\n  getSkillRankCost(skill: string, rank: number): number {\r\n    const def = getSkillDef(skill);\r\n    return 25 + (((rank*rank)-2)*45*def.cost);\r\n  }\r\n\r\n\r\n  // ======Perks======\r\n\r\n  buyPerk(name: string): void {\r\n    this.character.addPerk(name);\r\n    this.updateAvailablePerks();\r\n  }\r\n\r\n  updateAvailablePerks(): void {\r\n    this.availablePerks = [];\r\n    PERK_LIBRARY.forEach(x => {\r\n      if (this.character.hasPerk(x.name)) {return;}\r\n      this.availablePerks.push(new Perk(x.name));\r\n    });\r\n  }\r\n\r\n  // ======Items======\r\n\r\n  gainItem(item: string): void {\r\n    this._messageService.addMessage(`You found a ${item}.`);\r\n\r\n    if (this.items.indexOf(item) != -1) {\r\n      this._messageService.addMessage(`You already have one, so you sold it.`);\r\n    }\r\n    else {\r\n      this.items.push(item);\r\n    }\r\n\r\n    this.updateSkills();\r\n  }\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Stat } from '../common/gameConstants';\r\nimport { Character, Skill } from '../models/character';\r\nimport { Venture } from '../models/venture';\r\nimport { DieDef, DIE_LIBRARY } from '../staticData/dieDefinitions';\r\nimport { EncounterDef, ENCOUNTER_LIBRARY } from '../staticData/encounterDefinitions';\r\nimport { ItemDef, ITEM_LIBRARY } from '../staticData/itemDefinitions';\r\nimport { SkillDef, SKILL_LIBRARY } from '../staticData/skillDefinitions';\r\nimport { VentureDef, VENTURE_LIBRARY } from '../staticData/ventureDefinitions';\r\nimport { CharacterService } from './character.service';\r\nimport { MessageService } from './message.service';\r\nimport { TimeService } from './time.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GameService {\r\n\r\n  public ventures: Venture[] = [];\r\n\r\n  public ap: number = 0;\r\n  public dieRank: number = 0;\r\n  public unlockedStats: Stat[] = [\"body\"];\r\n\r\n  public targetVenture: string;\r\n  public resting: boolean = false;\r\n\r\n  private _init: boolean = false;\r\n\r\n  constructor(private _timeService: TimeService, private _messageService: MessageService,\r\n              private _characterService: CharacterService) {\r\n    _characterService.setGameService(this);\r\n  }\r\n\r\n  initVentures(): void {\r\n    this.ventures = [];\r\n    VENTURE_LIBRARY.forEach(def => {\r\n      const v = new Venture();\r\n      v.name = def.name;\r\n      this.ventures.push(v);\r\n    });\r\n  }\r\n\r\n  initSim(): void {\r\n    if (this._init) {return;}\r\n    this._timeService.tick.subscribe(x => this.tick(x));\r\n    this._init = true;\r\n  }\r\n\r\n  // ======Simulation======\r\n\r\n  tick(dT: number): void {\r\n    const character = this._characterService.character;\r\n    if (character == null) {return;}\r\n\r\n    // Do Rest\r\n    if (this.resting) {\r\n      character.stamina += 5*dT;\r\n      if (character.stamina >= character.maxStamina) {\r\n        character.stamina = character.maxStamina;\r\n        this.resting = false;\r\n      }\r\n    }\r\n\r\n    // Progress current venture\r\n    else if (this.targetVenture != null) {\r\n      const venture = this.ventures.find(x => x.name == this.targetVenture);\r\n      if (venture == null) {return;}\r\n\r\n      // If there isn't an encounter, init an encounter\r\n      if (venture.encounterName == null) {\r\n        this.startEncounter(venture);\r\n      }\r\n\r\n      const encDef = this.getEncounterDef(venture.encounterName);\r\n\r\n      const bestSkill = this._characterService.bestSkillForEncounter(encDef);\r\n      if (bestSkill != null) {\r\n        const encSkill = encDef.skills.find(x => x.skill == bestSkill);\r\n        const charSkillStr = character.skill(bestSkill).total();\r\n        venture.progress += 6*encSkill.strength*charSkillStr*dT;\r\n        this._characterService.advanceSkill(bestSkill, dT);\r\n      }\r\n      else {\r\n        venture.progress += dT;\r\n      }\r\n\r\n      character.stamina -= dT*encDef.staminaDrain;\r\n\r\n      if (character.stamina <= 0) {this.resting = true;}\r\n\r\n      if (venture.progress > venture.progressMax) {\r\n        venture.completions++;\r\n        venture.progress = 0;\r\n        this._messageService.addMessage(\"You slay the \" + venture.encounterName + \".\");\r\n\r\n        let xpReward = 65 + (Math.pow(encDef.level, 1.5)*15);\r\n\r\n        this._characterService.gainXp(xpReward);\r\n        if (encDef.itemReward != null) {\r\n          this._characterService.gainItem(encDef.itemReward);\r\n        }\r\n\r\n        this.startEncounter(venture);\r\n      }\r\n\r\n    }\r\n\r\n    // Degen venture progress\r\n    this.ventures.forEach(x => {\r\n      if (x.progress > 0 && (this.resting || this.targetVenture != x.name)) {\r\n        const encDef = this.getEncounterDef(x.encounterName);\r\n        const progDegen = x.progressMax*(encDef.progressDegenPct/100);\r\n        x.progress -= progDegen*dT;\r\n        if (x.progress <= 0) {\r\n          x.progress = 0;\r\n          this._messageService.addMessage(`The ${x.encounterName} wandered off while you were asleep.`);\r\n          x.encounterName = null;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  // ======Character Operations======\r\n\r\n  rest(): void {\r\n    this.resting = true;\r\n  }\r\n\r\n  //======Venture Operations======\r\n\r\n  getVentureDef(name: string): VentureDef {\r\n    return VENTURE_LIBRARY.find(x => x.name == name);\r\n  }\r\n\r\n  getEncounterDef(name: string): EncounterDef {\r\n    return ENCOUNTER_LIBRARY.find(x => x.name == name);\r\n  }\r\n\r\n  selectVenture(venture: Venture): void {\r\n    this.targetVenture = venture.name;\r\n  }\r\n\r\n  startEncounter(venture: Venture): void {\r\n    const def = this.getVentureDef(venture.name);\r\n    const encounter = def.getRandomEncounter();\r\n    const encDef = this.getEncounterDef(encounter);\r\n    venture.encounterName = encounter;\r\n    venture.progressMax = 15*Math.pow(encDef.level, 2.2);\r\n  }\r\n\r\n  //======Die Operations======\r\n\r\n  getCurrentDie(): DieDef {\r\n    return DIE_LIBRARY[this.dieRank];\r\n  }\r\n\r\n  getNextDie(): DieDef {\r\n    if (DIE_LIBRARY.length <= this.dieRank+1) {return null;}\r\n    return DIE_LIBRARY[this.dieRank+1];\r\n  }\r\n\r\n  upgradeDie(): void {\r\n    if (DIE_LIBRARY.length <= this.dieRank+1) {return;}\r\n    this.dieRank++;\r\n  }\r\n\r\n  //======AP Unlocks======\r\n\r\n  getNextStatUnlock() {\r\n    if (this.unlockedStats.length == 1) {\r\n      return {stat: \"agility\", cost: 10};\r\n    }\r\n    if (this.unlockedStats.length == 2) {\r\n      return {stat: \"mind\", cost: 25};\r\n    }\r\n    return null;\r\n  }\r\n\r\n  unlockStat() {\r\n    const unlock = this.getNextStatUnlock();\r\n    if (unlock == null) {return;}\r\n    this.unlockedStats.push(unlock.stat as Stat);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MessageService {\n\n  msgFeed: Subject<string> = new Subject();\n\n  constructor() { }\n\n  addMessage(message: string) {\n    this.msgFeed.next(message);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { interval, Subject, Subscription } from 'rxjs';\n\nconst tickRate = 100;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TimeService {\n\n  tick: Subject<number> = new Subject();\n  private _timerSubscription: Subscription = null;\n\n  constructor() { }\n\n  startGame() {\n    if (this._timerSubscription != null) {\n      this._timerSubscription.unsubscribe();\n    }\n    this._timerSubscription = interval(tickRate).subscribe(x => this.tick.next(tickRate/1000));\n  }\n}\n","\r\nexport class DieDef {\r\n  constructor(\r\n    public count: number,\r\n    public faces: number,\r\n    public cost: number\r\n    ) { }\r\n\r\n    roll(): number {\r\n      let total = 0;\r\n      for (let i = 0; i < this.count; i++) {\r\n        total += Math.floor(Math.random()*this.faces) + 1;\r\n      }\r\n      return total;\r\n    }\r\n}\r\n\r\nexport const DIE_LIBRARY: DieDef[] = [\r\n  new DieDef(1, 4, 1),\r\n  new DieDef(1, 6, 1),\r\n  new DieDef(1, 8, 5),\r\n  new DieDef(1, 10, 8),\r\n  new DieDef(2, 6, 14),\r\n  new DieDef(2, 8, 20),\r\n  new DieDef(3, 6, 30),\r\n  new DieDef(3, 8, 45),\r\n  new DieDef(4, 6, 70),\r\n  new DieDef(4, 8, 100),\r\n  new DieDef(6, 6, 150)\r\n];\r\n","\r\nexport class EncounterSkillDef {\r\n  skill: string;\r\n  strength: number;\r\n\r\n  constructor(skill: string, strength = 1) {\r\n    this.skill = skill;\r\n    this.strength = strength;\r\n  }\r\n}\r\n\r\nexport class EncounterDef {\r\n  name: string;\r\n  level: number;\r\n  progressDegenPct: number = 7;\r\n  staminaDrain: number = 1;\r\n  itemReward: string = null;\r\n  skills: EncounterSkillDef[] = [];\r\n\r\n\r\n  constructor(name: string, level: number) {\r\n    this.name = name;\r\n    this.level = level;\r\n  }\r\n\r\n  getSkill(skill: string) {\r\n    const s = this.skills.find(x => x.skill == skill);\r\n    if (s == null) {return 0;}\r\n    return s.strength;\r\n  }\r\n\r\n  item(item: string) {\r\n    this.itemReward = item;\r\n    return this;\r\n  }\r\n\r\n  addSkill(skill: string, strength = 1) {\r\n    let def = this.skills.find(x => x.skill == skill);\r\n    if (def == null) {\r\n      def = new EncounterSkillDef(skill);\r\n      this.skills.push(def);\r\n    }\r\n    def.strength = strength;\r\n    return this;\r\n  }\r\n}\r\n\r\nexport class CombatEncounterDef extends EncounterDef {\r\n  constructor(name: string, level: number) {\r\n    super(name, level);\r\n    this.initCombatSkills();\r\n  }\r\n\r\n  initCombatSkills() {\r\n    this.skills.push(new EncounterSkillDef(\"melee\"));\r\n    this.skills.push(new EncounterSkillDef(\"ranged\"));\r\n    this.skills.push(new EncounterSkillDef(\"magic\"));\r\n  }\r\n\r\n  resist(skill: string) {\r\n    this.addSkill(skill, 0.5);\r\n    return this;\r\n  }\r\n\r\n  weak(skill: string) {\r\n    this.addSkill(skill, 2);\r\n    return this;\r\n  }\r\n}\r\n\r\nexport const ENCOUNTER_LIBRARY: EncounterDef[] = [\r\n  new CombatEncounterDef(\"rat\", 1)\r\n    .item(\"shortbow\"),\r\n  new CombatEncounterDef(\"slime mold\", 1).resist(\"ranged\"),\r\n  new CombatEncounterDef(\"brutal rat\", 2)\r\n    .item(\"knife\"),\r\n  new CombatEncounterDef(\"wolf\", 3),\r\n  new CombatEncounterDef(\"felsprite\", 2)\r\n    .resist(\"melee\").resist(\"ranged\"),\r\n  new CombatEncounterDef(\"dire rat\", 3),\r\n  new CombatEncounterDef(\"goblin scout\", 5),\r\n  new CombatEncounterDef(\"goblin guard\", 7),\r\n  new CombatEncounterDef(\"goblin sage\", 8)\r\n    .resist(\"magic\"),\r\n  new CombatEncounterDef(\"hobgoblin overseer\", 10)\r\n    .resist(\"ranged\"),\r\n  new CombatEncounterDef(\"goblin shaman\", 9)\r\n    .resist(\"magic\"),\r\n  new CombatEncounterDef(\"hobgoblin graverobber\", 15)\r\n    .resist(\"ranged\"),\r\n  new CombatEncounterDef(\"corpse wight\", 18)\r\n    .resist(\"melee\").resist(\"ranged\"),\r\n  new CombatEncounterDef(\"tomb lord\", 20)\r\n    .item(\"staff of ancients\")\r\n\r\n];\r\n","import { Stat } from \"../common/gameConstants\";\r\n\r\nexport class ItemDef {\r\n  public name: string;\r\n  public skill: string = null;\r\n  public strength: number = 0;\r\n  public requiredStat: Stat = null;\r\n  public requiredStatAmount: number = 0;\r\n  public gold: number = 1;\r\n\r\n  constructor(name: string) {\r\n    this.name = name;\r\n  }\r\n\r\n  setSkill(skill: string, strength: number) {\r\n    this.skill = skill;\r\n    this.strength = strength;\r\n    return this;\r\n  }\r\n\r\n  setReq(stat: Stat, amount: number) {\r\n    this.requiredStat = stat;\r\n    this.requiredStatAmount = amount;\r\n    return this;\r\n  }\r\n\r\n  setValue(gold: number) {\r\n    this.gold = gold;\r\n  }\r\n}\r\n\r\nexport function getItemDef(name: string): ItemDef {\r\n  return ITEM_LIBRARY.find(x => x.name == name);\r\n}\r\n\r\nexport const ITEM_LIBRARY: ItemDef[] = [\r\n  new ItemDef(\"knife\").setSkill(\"melee\", 2)\r\n    .setReq(\"body\", 2),\r\n  new ItemDef(\"shortbow\").setSkill(\"ranged\", 7)\r\n    .setReq(\"body\", 2),\r\n  new ItemDef(\"longbow\").setSkill(\"ranged\", 14)\r\n    .setReq(\"body\", 5),\r\n  new ItemDef(\"staff of ancients\").setSkill(\"magic\", 25)\r\n    .setReq(\"mind\", 15)\r\n];\r\n","import { Stat } from \"../common/gameConstants\";\r\n\r\nexport class PerkDef {\r\n\r\n  public name: string;\r\n  public cost: number = 1;\r\n  public creationOnly: boolean = false;\r\n  public requiredLevel: number = 1;\r\n  public requiredStat: Stat = null;\r\n  public requiredStatValue: number = 0;\r\n\r\n  constructor(name: string) {\r\n    this.name = name;\r\n  }\r\n\r\n  setRequiredStat(stat: Stat, value: number) {\r\n    this.requiredStat = stat;\r\n    this.requiredStatValue = value;\r\n    return this;\r\n  }\r\n\r\n  setLevel(level: number) {\r\n    this.requiredLevel = level;\r\n    return this;\r\n  }\r\n\r\n  setCreationOnly() {\r\n    this.creationOnly = true;\r\n    return this;\r\n  }\r\n}\r\n\r\nexport function getPerkDef(name: string): PerkDef {\r\n  return PERK_LIBRARY.find(x => x.name == name);\r\n}\r\n\r\nexport const PERK_LIBRARY: PerkDef[] = [\r\n  new PerkDef(\"Alchemy\"),\r\n  new PerkDef(\"Pathfinding\"),\r\n  new PerkDef(\"Feint\"),\r\n  new PerkDef(\"Divine Rites\")\r\n]\r\n","\r\nexport class RegionDef {\r\n  public name: string;\r\n\r\n  constructor(name: string) {\r\n    this.name = name;\r\n  }\r\n}\r\n\r\n\r\nexport const REGION_LIBRARY: RegionDef[] = [\r\n  new RegionDef(\"The Village\"),\r\n  new RegionDef(\"Lost Woods\"),\r\n  new RegionDef(\"City of Isling\"),\r\n  new RegionDef(\"Undermountain\"),\r\n  new RegionDef(\"Chaos Keep\"),\r\n  new RegionDef(\"Astral Reach\"),\r\n  new RegionDef(\"Dark Dimension\")\r\n];\r\n","import { Stat } from \"../common/gameConstants\";\r\n\r\nexport class SkillDef {\r\n\r\n  public name: string;\r\n  public stat: Stat = null;\r\n  public cost: number = 1; // Multiplier\r\n  public group: string = \"other\";\r\n\r\n  constructor(name: string) {\r\n    this.name = name;\r\n  }\r\n\r\n  setGroup(group: string) {\r\n    this.group = group;\r\n    return this;\r\n  }\r\n\r\n  setStat(stat: Stat) {\r\n    this.stat = stat;\r\n    return this;\r\n  }\r\n\r\n  setCost(cost: number) {\r\n    this.cost = cost;\r\n    return this;\r\n  }\r\n\r\n}\r\n\r\nexport function getSkillDef(name: string): SkillDef {\r\n  return SKILL_LIBRARY.find(x => x.name == name);\r\n}\r\n\r\nexport const SKILL_LIBRARY: SkillDef[] = [\r\n  new SkillDef(\"melee\").setStat(\"body\").setGroup(\"combat\").setCost(1),\r\n  new SkillDef(\"ranged\").setStat(\"agility\").setGroup(\"combat\").setCost(1),\r\n  new SkillDef(\"magic\").setStat(\"mind\").setGroup(\"combat\").setCost(1),\r\n\r\n  new SkillDef(\"armor\").setGroup(\"defense\"),\r\n  new SkillDef(\"dodge\").setGroup(\"defense\"),\r\n  new SkillDef(\"clarity\").setGroup(\"defense\"),\r\n\r\n  new SkillDef(\"conditioning\"),\r\n  new SkillDef(\"tactics\"),\r\n  new SkillDef(\"martial\"),\r\n  new SkillDef(\"negotiation\"),\r\n  new SkillDef(\"investigation\"),\r\n  new SkillDef(\"scout\"),\r\n  new SkillDef(\"concentration\"),\r\n  new SkillDef(\"ritual\"),\r\n  new SkillDef(\"deception\"),\r\n  new SkillDef(\"sneak\"),\r\n\r\n];\r\n","\r\n\r\nexport class VentureDef {\r\n  name: string;\r\n  encounters: string[] = [];\r\n  prereqName: string;\r\n  prereqRank: number;\r\n\r\n  constructor (\r\n    name: string\r\n  ) {\r\n    this.name = name;\r\n  }\r\n\r\n  public getRandomEncounter(): string {\r\n    const random = Math.floor(Math.random()*this.encounters.length);\r\n    return this.encounters[random];\r\n  }\r\n\r\n  public addEncounter(name: string) {\r\n    this.encounters.push(name);\r\n    return this;\r\n  }\r\n\r\n  public addPrereq(name: string, rank: number) {\r\n    this.prereqName = name;\r\n    this.prereqRank = rank;\r\n    return this;\r\n  }\r\n}\r\n\r\nexport const VENTURE_LIBRARY: VentureDef[] = [\r\n  new VentureDef(\"The Innkeeper's Basement\")\r\n    .addEncounter(\"rat\")\r\n    .addEncounter(\"slime mold\")\r\n    .addEncounter(\"brutal rat\"),\r\n  new VentureDef(\"The Thicket\")\r\n    .addPrereq(\"The Innkeeper's Basement\", 5)\r\n    .addEncounter(\"brutal rat\")\r\n    .addEncounter(\"wolf\")\r\n    .addEncounter(\"felsprite\")\r\n    .addEncounter(\"dire rat\")\r\n    .addEncounter(\"goblin scout\"),\r\n  new VentureDef(\"The Goblin Caves\")\r\n    .addPrereq(\"The Thicket\", 5)\r\n    .addEncounter(\"dire rat\")\r\n    .addEncounter(\"goblin scout\")\r\n    .addEncounter(\"goblin guard\")\r\n    .addEncounter(\"goblin sage\")\r\n    .addEncounter(\"hobgoblin overseer\"),\r\n  new VentureDef(\"The Lost Tomb\")\r\n    .addPrereq(\"The Lost Tomb\", 5)\r\n    .addEncounter(\"goblin sage\")\r\n    .addEncounter(\"goblin shaman\")\r\n    .addEncounter(\"hobgoblin graverobber\")\r\n    .addEncounter(\"corpse wight\")\r\n    .addEncounter(\"tomb lord\")\r\n];\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}