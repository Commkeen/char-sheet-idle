{"version":3,"sources":["webpack:///$_lazy_route_resources|lazy|groupOptions: {}|namespace object","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/components/character-panel/character-panel.component.html","webpack:///src/app/components/character-panel/character-panel.component.ts","webpack:///src/app/components/common/game-button/game-button.component.ts","webpack:///src/app/components/common/game-button/game-button.component.html","webpack:///src/app/components/common/progress-bar/progress-bar.component.ts","webpack:///src/app/components/common/progress-bar/progress-bar.component.html","webpack:///src/app/components/location-panel/location-panel.component.html","webpack:///src/app/components/location-panel/location-panel.component.ts","webpack:///src/app/components/message-panel/message-panel.component.html","webpack:///src/app/components/message-panel/message-panel.component.ts","webpack:///src/app/components/skill-panel/skill-panel.component.html","webpack:///src/app/components/skill-panel/skill-panel.component.ts","webpack:///src/app/models/character.ts","webpack:///src/app/models/venture.ts","webpack:///src/app/pipes/display-number.pipe.ts","webpack:///src/app/services/game.service.ts","webpack:///src/app/services/message.service.ts","webpack:///src/app/services/time.service.ts","webpack:///src/app/staticData/dieDefinitions.ts","webpack:///src/app/staticData/encounterDefinitions.ts","webpack:///src/app/staticData/itemDefinitions.ts","webpack:///src/app/staticData/skillDefinitions.ts","webpack:///src/app/staticData/ventureDefinitions.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","id","module","exports","AppComponent","_timeService","title","startGame","AppModule","BrowserModule","FlexModule","LocationPanelComponent","CharacterPanelComponent","MessagePanelComponent","GameButtonComponent","ProgressBarComponent","DisplayNumberPipe","SkillPanelComponent","_gameService","character","ap","getCurrentDie","result","nextDie","getNextDie","cost","nextUnlock","getNextStatUnlock","stat","getCharacter","name","level","xp","getLevelCost","stamina","maxStamina","stats","getDie","count","faces","rollNewCharacter","upgradeDie","unlockStat","rest","click","EventEmitter","event","stopPropagation","emit","onClick","value","max","Math","min","localVentures","ventures","v","selectVenture","_messageService","messageBuffer","messageBufferSize","msgFeed","subscribe","x","onMessage","msg","push","length","splice","skills","skill","getSkillRankCost","rank","Character","Map","has","get","set","find","some","Skill","progress","itemBonus","Venture","encounterName","progressMax","completions","args","prefix","suffix","abs","getSuffixedValue","decimalPlaces","floor","log10","toFixed","GameService","items","dieRank","unlockedStats","resting","_init","VENTURE_LIBRARY","def","tick","dT","targetVenture","venture","startEncounter","encDef","getEncounterDef","bestSkill","bestSkillForEncounter","encSkill","charSkillStr","total","strength","advanceSkill","getSkill","staminaDrain","addMessage","gainXp","xpReward","itemReward","gainItem","forEach","progDegen","progressDegenPct","s","sDef","getSkillDef","relatedStat","nextRankCost","die","setStat","roll","initSkills","initVentures","initSim","updateSkills","SKILL_LIBRARY","getItemDef","canUse","requiredStat","requiredStatAmount","encounter","bestStrength","hasSkill","skillDef","str","nextLevelCost","gainLevel","newLevel","getStats","curStat","increase","newAp","item","indexOf","ITEM_LIBRARY","ENCOUNTER_LIBRARY","getVentureDef","getRandomEncounter","pow","progressNeeded","DIE_LIBRARY","unlock","MessageService","Subject","message","next","tickRate","TimeService","_timerSubscription","unsubscribe","interval","DieDef","i","random","EncounterSkillDef","EncounterDef","num","CombatEncounterDef","initCombatSkills","addSkill","resist","setDifficulty","ItemDef","gold","amount","setSkill","setReq","SkillDef","setCost","VentureDef","encounters","prereqName","prereqRank","addEncounter","addPrereq","environment","production","enableProdMode","platformBrowser","bootstrapModule","err","console","error"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 8255;\nmodule.exports = webpackEmptyAsyncContext;","import { Component, OnInit } from '@angular/core';\nimport { TimeService } from './services/time.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n  title = 'char-sheet-idle';\n\n  constructor(private _timeService: TimeService) { }\n\n  ngOnInit(): void {\n    this._timeService.startGame();\n  }\n}\n","<div fxLayout=\"column\" class=\"layout-container\">\r\n  <div fxFlex=\"4\" class=\"layout-top\">\r\n    Character Sheet Idle 0.1 --- Work in progress\r\n  </div>\r\n  <div fxFlex=\"70\" class=\"layout-center\">\r\n    <div fxFlex=\"80\" class=\"layout-center-left\">\r\n      <app-location-panel></app-location-panel>\r\n    </div>\r\n    <div fxFlex=\"20\" class=\"layout-center-right\">\r\n      <app-skill-panel></app-skill-panel>\r\n    </div>\r\n  </div>\r\n  <div fxFlex=\"26\" fxLayout=\"row\" class=\"layout-bottom\">\r\n    <div fxFlex=\"60\" class=\"layout-left-bottom\">\r\n      <app-character-panel></app-character-panel>\r\n    </div>\r\n    <div fxFlex=\"40\" class=\"layout-right-bottom\">\r\n      <app-message-panel></app-message-panel>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { FlexModule } from '@angular/flex-layout';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { LocationPanelComponent } from './components/location-panel/location-panel.component';\r\nimport { CharacterPanelComponent } from './components/character-panel/character-panel.component';\r\nimport { MessagePanelComponent } from './components/message-panel/message-panel.component';\r\nimport { GameButtonComponent } from './components/common/game-button/game-button.component';\r\nimport { ProgressBarComponent } from './components/common/progress-bar/progress-bar.component';\r\nimport { DisplayNumberPipe } from './pipes/display-number.pipe';\r\nimport { SkillPanelComponent } from './components/skill-panel/skill-panel.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    LocationPanelComponent,\r\n    CharacterPanelComponent,\r\n    MessagePanelComponent,\r\n    GameButtonComponent,\r\n    ProgressBarComponent,\r\n    DisplayNumberPipe,\r\n    SkillPanelComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    FlexModule\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","<div fxLayout=\"row\" class=\"game-section\">\r\n  <div fxLayout=\"column\" class=\"reroll-panel\">\r\n    <game-button (click)=\"rollNewCharacter()\">Roll New Character</game-button>\r\n    <span *ngIf=\"getCharacter() != null\">\r\n    <div>Current die: {{dieCount}}d{{dieFaces}}</div>\r\n    <br />\r\n    <div>AP: {{ap}}</div>\r\n    <game-button *ngIf=\"getNextDieCost() != null\" (click)=\"upgradeDie()\">\r\n      Upgrade Die: {{getNextDieCost()}} AP\r\n    </game-button>\r\n    <br />\r\n    <game-button *ngIf=\"getNextStatUnlockName() != null\" (click)=\"unlockStat()\">\r\n      Unlock {{getNextStatUnlockName()}}: {{getNextStatUnlockCost()}} AP\r\n    </game-button>\r\n    </span>\r\n  </div>\r\n  <div fxLayout=\"row\" class=\"character-sheet\" *ngIf=\"getCharacter() != null\">\r\n    <div fxLayout=\"column\" class=\"character-sheet-left\">\r\n      <h2>{{name}}</h2>\r\n      <div fxLayout=\"row\">\r\n        <div fxFlex=\"80\">Stamina: {{stamina | displayNumber}}/{{maxStamina}}</div>\r\n        <game-button (click)=\"rest()\">Rest</game-button>\r\n      </div>\r\n      <progress-bar [value]=\"stamina\" [max]=\"maxStamina\"></progress-bar>\r\n      <br />\r\n      <div>Level {{level}}</div>\r\n      <div>XP: {{xp}}/{{xpMax}}</div>\r\n      <progress-bar [value]=\"xp\" [max]=\"xpMax\"></progress-bar>\r\n    </div>\r\n    <div fxLayout=\"column\" class=\"character-sheet-right\">\r\n      <div>Resting at the inn</div>\r\n      <br />\r\n      <br />\r\n      <div *ngFor=\"let stat of stats | keyvalue\">\r\n        {{stat.key}}:  {{stat.value}}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Stat } from 'src/app/common/gameConstants';\r\nimport { Character } from 'src/app/models/character';\r\nimport { GameService } from 'src/app/services/game.service';\r\nimport { DieDef } from 'src/app/staticData/dieDefinitions';\r\n\r\n@Component({\r\n  selector: 'app-character-panel',\r\n  templateUrl: './character-panel.component.html',\r\n  styleUrls: ['./character-panel.component.scss']\r\n})\r\nexport class CharacterPanelComponent implements OnInit {\r\n\r\n  constructor(private _gameService: GameService) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  getCharacter(): Character {\r\n    return this._gameService.character;\r\n  }\r\n\r\n  getAP(): number {\r\n    return this._gameService.ap;\r\n  }\r\n\r\n  getDie(): DieDef {\r\n    return this._gameService.getCurrentDie();\r\n  }\r\n\r\n  getNextDieCost(): number {\r\n    let result = null;\r\n    const nextDie = this._gameService.getNextDie();\r\n    if (nextDie != null) {result = nextDie.cost;}\r\n    return result;\r\n  }\r\n\r\n  getNextStatUnlockName() {\r\n    const nextUnlock = this._gameService.getNextStatUnlock();\r\n    if (nextUnlock == null) {return null;}\r\n    return nextUnlock.stat;\r\n  }\r\n\r\n  getNextStatUnlockCost() {\r\n    const nextUnlock = this._gameService.getNextStatUnlock();\r\n    if (nextUnlock == null) {return null;}\r\n    return nextUnlock.cost;\r\n  }\r\n\r\n  // ======Display Getters======\r\n\r\n  get name() {\r\n    return this.getCharacter().name;\r\n  }\r\n\r\n  get level() {\r\n    return this.getCharacter().level;\r\n  }\r\n\r\n  get xp() {\r\n    return this.getCharacter().xp;\r\n  }\r\n\r\n  get xpMax() {\r\n    return this._gameService.getLevelCost(this.level+1);\r\n  }\r\n\r\n  get stamina() {\r\n    return this.getCharacter().stamina;\r\n  }\r\n\r\n  get maxStamina() {\r\n    return this.getCharacter().maxStamina;\r\n  }\r\n\r\n  get stats() {\r\n    return this.getCharacter().stats;\r\n  }\r\n\r\n  getStat(stat: Stat) {\r\n    return this.getCharacter().stat(stat);\r\n  }\r\n\r\n  get ap() {\r\n    return this._gameService.ap;\r\n  }\r\n\r\n  get dieCount() {\r\n    return this.getDie().count;\r\n  }\r\n\r\n  get dieFaces() {\r\n    return this.getDie().faces;\r\n  }\r\n\r\n  // ======Click Handlers======\r\n\r\n  rollNewCharacter(): void {\r\n    this._gameService.rollNewCharacter();\r\n  }\r\n\r\n  upgradeDie(): void {\r\n    this._gameService.upgradeDie();\r\n  }\r\n\r\n  unlockStat(): void {\r\n    this._gameService.unlockStat();\r\n  }\r\n\r\n  rest(): void {\r\n    this._gameService.rest();\r\n  }\r\n\r\n}\r\n","import { Component, ContentChild, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\n@Component({\n  selector: 'game-button',\n  templateUrl: './game-button.component.html',\n  styleUrls: ['./game-button.component.scss']\n})\nexport class GameButtonComponent implements OnInit {\n\n  @Output() click = new EventEmitter<void>();\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  onClick(event: MouseEvent) {\n    event.stopPropagation();\n    this.click.emit();\n  }\n\n}\n","<div class=\"game-btn\" (click)=\"onClick($event)\">\n  <span class=\"text\"><ng-content></ng-content></span>\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'progress-bar',\n  templateUrl: './progress-bar.component.html',\n  styleUrls: ['./progress-bar.component.scss']\n})\nexport class ProgressBarComponent implements OnInit {\n\n  @Input() value: number = 15;\n  @Input() max: number = 100;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  getWidth(): number {\n    let result = this.value / this.max;\n    result = result*100;\n    result = Math.min(result, 100);\n    result = Math.max(0, result);\n    return result;\n  }\n\n}\n","<div class=\"bar-outer\">\n  <div class=\"bar-inner\" [style.width]=\"getWidth() + '%'\"></div>\n</div>\n","<div class=\"game-section\">\n  <div class=\"local-ventures\">\n    <div class=\"venture\" fxLayout=\"row\" *ngFor=\"let venture of getVentures()\">\n      <div fxFlex=\"30\"></div>\n      <div fxFlex=\"30\" fxLayout=\"row\" class=\"venture-left\">\n        <game-button fxFlex=\"60\" (click)=\"selectVenture(venture)\">{{venture.name}}</game-button>\n        <div fxFlex=\"40\">{{venture.completions}}</div>\n      </div>\n      <div fxFlex=\"70\" class=\"venture-right\" fxLayout=\"column\">\n        <div>{{venture.encounterName}}</div>\n        <progress-bar [value]=\"venture.progress\" [max]=\"venture.progressMax\"></progress-bar>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Venture } from 'src/app/models/venture';\nimport { GameService } from 'src/app/services/game.service';\n\n@Component({\n  selector: 'app-location-panel',\n  templateUrl: './location-panel.component.html',\n  styleUrls: ['./location-panel.component.scss']\n})\nexport class LocationPanelComponent implements OnInit {\n\n  constructor(private _gameService: GameService) { }\n\n  public localVentures: Venture[] = [];\n\n  ngOnInit(): void {\n  }\n\n  getVentures(): Venture[] {\n    return this._gameService.ventures;\n  }\n\n  // ======Display Getters======\n\n  // ======Click Handlers======\n  selectVenture(v: Venture): void {\n    this._gameService.selectVenture(v);\n  }\n\n}\n","<div class=\"game-section\">\n  <div class=\"messages\">\n    <div class=\"message\" *ngFor=\"let message of messageBuffer\">\n      {{message}}\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { MessageService } from 'src/app/services/message.service';\n\n@Component({\n  selector: 'app-message-panel',\n  templateUrl: './message-panel.component.html',\n  styleUrls: ['./message-panel.component.scss']\n})\nexport class MessagePanelComponent implements OnInit {\n\n  constructor(private _messageService: MessageService) { }\n\n  public messageBuffer: string[] = [];\n  public messageBufferSize: number = 10;\n\n  ngOnInit(): void {\n    this._messageService.msgFeed.subscribe(x => this.onMessage(x));\n  }\n\n  onMessage(msg: string): void {\n    this.messageBuffer.push(msg);\n    while (this.messageBuffer.length > this.messageBufferSize) {\n      this.messageBuffer.splice(0,1);\n    }\n  }\n\n}\n","<div class=\"game-section\" *ngIf=\"getSkills() != null\">\r\n  <br />\r\n  <div class=\"combat-skills\">\r\n    <div class=\"skill\" fxLayout=\"row\" *ngFor=\"let skill of getSkills()\">\r\n      <div fxFlex=\"10\" class=\"skill-total\">\r\n        {{skill.total()}}\r\n      </div>\r\n      <div fxFlex=\"90\" fxLayout=\"column\">\r\n        <div fxFlex=\"90\" fxLayout=\"row\" class=\"skill-text\">\r\n          <div fxFlex=\"90\">{{skill.name}}</div>\r\n          <div fxFlex=\"10\">{{skill.rank}}</div>\r\n        </div>\r\n        <progress-bar fxFlex=\"10\" [value]=\"skill.progress\" [max]=\"progressMax(skill)\"></progress-bar>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Skill } from 'src/app/models/character';\r\nimport { GameService } from 'src/app/services/game.service';\r\n\r\n@Component({\r\n  selector: 'app-skill-panel',\r\n  templateUrl: './skill-panel.component.html',\r\n  styleUrls: ['./skill-panel.component.scss']\r\n})\r\nexport class SkillPanelComponent implements OnInit {\r\n\r\n  constructor(private _gameService: GameService) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  getSkills(): Skill[] {\r\n    if (this._gameService.character == null) {return null;}\r\n    return this._gameService.character.skills;\r\n  }\r\n\r\n  // ======Display Getters======\r\n  progressMax(skill: Skill): number {\r\n    return this._gameService.getSkillRankCost(skill.name, skill.rank+1);\r\n  }\r\n\r\n}\r\n","import { Stat } from \"../common/gameConstants\";\r\n\r\n\r\nexport class Character {\r\n  name: string;\r\n\r\n  stamina: number;\r\n  maxStamina: number;\r\n\r\n  level: number;\r\n  xp: number;\r\n\r\n  stats: Map<Stat, number> = new Map<Stat, number>();\r\n\r\n  skills: Skill[] = [];\r\n\r\n  stat(stat: Stat) {\r\n    if (!this.stats.has(stat)) {return 0;}\r\n    return this.stats.get(stat);\r\n  }\r\n\r\n  setStat(stat: Stat, value: number) {\r\n    this.stats.set(stat, value);\r\n  }\r\n\r\n  getStats() {\r\n    return this.stats.keys();\r\n  }\r\n\r\n  skill(skill: string) {\r\n    return this.skills.find(x => x.name == skill);\r\n  }\r\n\r\n  hasSkill(skill: string) {\r\n    return this.skills.some(x => x.name == skill);\r\n  }\r\n}\r\n\r\nexport class Skill {\r\n  name: string;\r\n\r\n  rank: number = 1;\r\n  progress: number = 0;\r\n\r\n  itemBonus: number = 0;\r\n\r\n  constructor(name: string) {\r\n    this.name = name;\r\n  }\r\n\r\n  total(): number {\r\n    return this.rank + this.itemBonus;\r\n  }\r\n}\r\n","\r\nexport class Venture {\r\n  public name: string;\r\n  public encounterName: string = null;\r\n  public progress: number = 0;\r\n  public progressMax: number = 100;\r\n  public completions: number = 0;\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'displayNumber'\n})\nexport class DisplayNumberPipe implements PipeTransform {\n\n  transform(value: number, args?: any): string {\n\n    let prefix = '';\n    let suffix = '';\n    if (value < 0) {prefix = '-'; }\n    value = Math.abs(value);\n\n    if (value < 1000) {\n      return prefix + this.getSuffixedValue(value, suffix);\n    }\n\n    const decimalPlaces = Math.floor(Math.log10(value));\n    if (decimalPlaces < 6) {\n      value = (value / 1000);\n      suffix = 'K';\n    } else {\n      value = (value / 1000000);\n      suffix = 'M';\n    }\n\n    return prefix + this.getSuffixedValue(value, suffix);\n  }\n\n  getSuffixedValue(value: number, suffix: string): string {\n    if (value - Math.floor(value) > 0.01) {\n      return value.toFixed(2) + suffix;\n    }\n    return value.toFixed(0) + suffix;\n  }\n\n}\n","import { Injectable } from '@angular/core';\r\nimport { Stat } from '../common/gameConstants';\r\nimport { Character, Skill } from '../models/character';\r\nimport { Venture } from '../models/venture';\r\nimport { DieDef, DIE_LIBRARY } from '../staticData/dieDefinitions';\r\nimport { EncounterDef, ENCOUNTER_LIBRARY } from '../staticData/encounterDefinitions';\r\nimport { ItemDef, ITEM_LIBRARY } from '../staticData/itemDefinitions';\r\nimport { SkillDef, SKILL_LIBRARY } from '../staticData/skillDefinitions';\r\nimport { VentureDef, VENTURE_LIBRARY } from '../staticData/ventureDefinitions';\r\nimport { MessageService } from './message.service';\r\nimport { TimeService } from './time.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GameService {\r\n\r\n  public character: Character = null;\r\n  public ventures: Venture[] = [];\r\n  public items: string[] = [];\r\n\r\n  public ap: number = 0;\r\n  public dieRank: number = 0;\r\n  public unlockedStats: Stat[] = [\"body\"];\r\n\r\n  public targetVenture: string;\r\n  public resting: boolean = false;\r\n\r\n  private _init: boolean = false;\r\n\r\n  constructor(private _timeService: TimeService, private _messageService: MessageService) { }\r\n\r\n  initVentures(): void {\r\n    this.ventures = [];\r\n    VENTURE_LIBRARY.forEach(def => {\r\n      const v = new Venture();\r\n      v.name = def.name;\r\n      this.ventures.push(v);\r\n    });\r\n  }\r\n\r\n  initSim(): void {\r\n    if (this._init) {return;}\r\n    this._timeService.tick.subscribe(x => this.tick(x));\r\n    this._init = true;\r\n  }\r\n\r\n  // ======Simulation======\r\n\r\n  tick(dT: number): void {\r\n    if (this.character == null) {return;}\r\n\r\n    // Do Rest\r\n    if (this.resting) {\r\n      this.character.stamina += 5*dT;\r\n      if (this.character.stamina >= this.character.maxStamina) {\r\n        this.character.stamina = this.character.maxStamina;\r\n        this.resting = false;\r\n      }\r\n    }\r\n\r\n    // Progress current venture\r\n    else if (this.targetVenture != null) {\r\n      const venture = this.ventures.find(x => x.name == this.targetVenture);\r\n      if (venture == null) {return;}\r\n\r\n      // If there isn't an encounter, init an encounter\r\n      if (venture.encounterName == null) {\r\n        this.startEncounter(venture);\r\n      }\r\n\r\n      const encDef = this.getEncounterDef(venture.encounterName);\r\n\r\n      const bestSkill = this.bestSkillForEncounter(encDef);\r\n      if (bestSkill != null) {\r\n        const encSkill = encDef.skills.find(x => x.skill == bestSkill);\r\n        const charSkillStr = this.character.skill(bestSkill).total();\r\n        venture.progress += encSkill.strength*charSkillStr*dT;\r\n        this.advanceSkill(bestSkill, dT);\r\n      }\r\n\r\n      venture.progress += 7*this.character.stat(\"body\")*encDef.getSkill(\"melee\")*dT;\r\n      this.character.stamina -= dT*encDef.staminaDrain;\r\n\r\n      if (this.character.stamina <= 0) {this.resting = true;}\r\n\r\n      if (venture.progress > venture.progressMax) {\r\n        venture.completions++;\r\n        venture.progress = 0;\r\n        this._messageService.addMessage(\"You slay the \" + venture.encounterName + \".\");\r\n\r\n        this.gainXp(encDef.xpReward);\r\n        if (encDef.itemReward != null) {\r\n          this.gainItem(encDef.itemReward);\r\n        }\r\n\r\n        this.startEncounter(venture);\r\n      }\r\n\r\n    }\r\n\r\n    // Degen venture progress\r\n    this.ventures.forEach(x => {\r\n      if (x.progress > 0 && (this.resting || this.targetVenture != x.name)) {\r\n        const encDef = this.getEncounterDef(x.encounterName);\r\n        const progDegen = x.progressMax*(encDef.progressDegenPct/100);\r\n        x.progress -= progDegen*dT;\r\n        if (x.progress <= 0) {\r\n          x.progress = 0;\r\n          this._messageService.addMessage(`The ${x.encounterName} wandered off while you were asleep.`);\r\n          x.encounterName = null;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  advanceSkill(skill: string, dT: number) {\r\n    const s = this.character.skill(skill);\r\n    const sDef = this.getSkillDef(skill);\r\n    const relatedStat = this.character.stat(sDef.stat);\r\n    s.progress += relatedStat*relatedStat*dT;\r\n\r\n    const nextRankCost = this.getSkillRankCost(skill, s.rank+1);\r\n    if (s.progress >= nextRankCost) {\r\n      s.progress -= nextRankCost;\r\n      s.rank++;\r\n      this._messageService.addMessage(`Your ${skill} skill has increased to ${s.rank}.`);\r\n    }\r\n  }\r\n\r\n  // ======Character Operations======\r\n\r\n  rollNewCharacter(): void {\r\n    const die = this.getCurrentDie();\r\n    this.character = new Character();\r\n    this.character.name = \"Bob the Adventurer\";\r\n    this.character.xp = 0;\r\n    this.character.level = 1;\r\n\r\n    this.unlockedStats.forEach(x => {\r\n      this.character.setStat(x, die.roll());\r\n    });\r\n\r\n    this.initSkills();\r\n\r\n    // TODO: Sell old items\r\n    this.items = [];\r\n\r\n    this.character.maxStamina = (this.character.stat(\"body\")+2)*3;\r\n    this.character.stamina = this.character.maxStamina;\r\n\r\n    this.targetVenture = null;\r\n    this.resting = false;\r\n\r\n    this._messageService.addMessage(\"Welcome, \" + this.character.name + \"!\");\r\n\r\n    this.initVentures();\r\n    this.initSim();\r\n\r\n    this.updateSkills();\r\n  }\r\n\r\n  initSkills(): void {\r\n    this.character.skills = [];\r\n    SKILL_LIBRARY.forEach(x => {\r\n      this.character.skills.push(new Skill(x.name));\r\n    });\r\n  }\r\n\r\n  updateSkills(): void {\r\n    this.character.skills.forEach(x => {\r\n      x.itemBonus = 0;\r\n    });\r\n\r\n    this.items.forEach(x => {\r\n      const def = this.getItemDef(x);\r\n\r\n      let canUse = true;\r\n      if (def.requiredStat != null) {\r\n        if (def.requiredStatAmount > this.character.stat(def.requiredStat)) {canUse = false;}\r\n      }\r\n\r\n      if (canUse) {\r\n        const skill = this.character.skill(def.skill);\r\n        if (skill != null) {\r\n          skill.itemBonus += def.strength;\r\n        }\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  bestSkillForEncounter(encounter: EncounterDef): string {\r\n    let bestSkill = null;\r\n    let bestStrength = 0;\r\n    encounter.skills.forEach(s => {\r\n      if (!this.character.hasSkill(s.skill)) {return;}\r\n      const skillDef = this.getSkillDef(s.skill);\r\n      if (this.character.stat(skillDef.stat) <= 0) {return;} // Can't use a skill with no supporting stat\r\n      const str = this.character.skill(s.skill).total() * s.strength;\r\n      if (str > bestStrength) {\r\n        bestSkill = s.skill;\r\n        bestStrength = str;\r\n      }\r\n    });\r\n\r\n    return bestSkill;\r\n  }\r\n\r\n  getSkillRankCost(skill: string, rank: number): number {\r\n    const def = this.getSkillDef(skill);\r\n    return 25 + (((rank*rank)-2)*45*def.cost);\r\n  }\r\n\r\n  getLevelCost(level: number): number {\r\n    return 150 + (((level*level)-2)*135);\r\n  }\r\n\r\n  rest(): void {\r\n    this.resting = true;\r\n  }\r\n\r\n  gainXp(xp: number): void {\r\n    this.character.xp += xp;\r\n\r\n    const nextLevelCost = this.getLevelCost(this.character.level+1);\r\n    if (this.character.xp >= nextLevelCost) {\r\n      this.character.xp -= nextLevelCost;\r\n      this.gainLevel();\r\n    }\r\n  }\r\n\r\n  gainLevel(): void {\r\n    this.character.level++;\r\n    const newLevel = this.character.level;\r\n    this._messageService.addMessage(\"You have reached level \" + newLevel + \"!\");\r\n\r\n    const die = this.getCurrentDie();\r\n    for (let stat of this.character.getStats()) {\r\n      const curStat = this.character.stat(stat);\r\n      const increase = Math.floor(die.roll()/3);\r\n      if (increase > 0) {\r\n        this._messageService.addMessage(`Your ${stat} has increased by ${increase}.`);\r\n        this.character.setStat(stat, curStat + increase);\r\n      }\r\n    }\r\n\r\n    this.character.maxStamina = (this.character.stat(\"body\")+2)*3;\r\n    this.character.stamina = this.character.maxStamina;\r\n\r\n    const newAp = Math.max(0, newLevel*newLevel - 3);\r\n    this.ap += newAp;\r\n    this._messageService.addMessage(\"You have gained \" + newAp + \" AP.\");\r\n\r\n    this.updateSkills();\r\n  }\r\n\r\n  gainItem(item: string): void {\r\n    this._messageService.addMessage(`You found a ${item}.`);\r\n\r\n    if (this.items.indexOf(item) != -1) {\r\n      this._messageService.addMessage(`You already have one, so you sold it.`);\r\n    }\r\n    else {\r\n      this.items.push(item);\r\n    }\r\n\r\n    this.updateSkills();\r\n  }\r\n\r\n  getSkillDef(name: string): SkillDef {\r\n    return SKILL_LIBRARY.find(x => x.name == name);\r\n  }\r\n\r\n  getItemDef(name: string): ItemDef {\r\n    return ITEM_LIBRARY.find(x => x.name == name);\r\n  }\r\n\r\n  //======Venture Operations======\r\n\r\n  getVentureDef(name: string): VentureDef {\r\n    return VENTURE_LIBRARY.find(x => x.name == name);\r\n  }\r\n\r\n  getEncounterDef(name: string): EncounterDef {\r\n    return ENCOUNTER_LIBRARY.find(x => x.name == name);\r\n  }\r\n\r\n  selectVenture(venture: Venture): void {\r\n    this.targetVenture = venture.name;\r\n  }\r\n\r\n  startEncounter(venture: Venture): void {\r\n    const def = this.getVentureDef(venture.name);\r\n    const encounter = def.getRandomEncounter();\r\n    const encDef = this.getEncounterDef(encounter);\r\n    venture.encounterName = encounter;\r\n    venture.progressMax = 25*Math.pow(encDef.progressNeeded, 4.5);\r\n  }\r\n\r\n  //======Die Operations======\r\n\r\n  getCurrentDie(): DieDef {\r\n    return DIE_LIBRARY[this.dieRank];\r\n  }\r\n\r\n  getNextDie(): DieDef {\r\n    if (DIE_LIBRARY.length <= this.dieRank+1) {return null;}\r\n    return DIE_LIBRARY[this.dieRank+1];\r\n  }\r\n\r\n  upgradeDie(): void {\r\n    if (DIE_LIBRARY.length <= this.dieRank+1) {return;}\r\n    this.dieRank++;\r\n  }\r\n\r\n  //======AP Unlocks======\r\n\r\n  getNextStatUnlock() {\r\n    if (this.unlockedStats.length == 1) {\r\n      return {stat: \"agility\", cost: 10};\r\n    }\r\n    if (this.unlockedStats.length == 2) {\r\n      return {stat: \"mind\", cost: 25};\r\n    }\r\n    return null;\r\n  }\r\n\r\n  unlockStat() {\r\n    const unlock = this.getNextStatUnlock();\r\n    if (unlock == null) {return;}\r\n    this.unlockedStats.push(unlock.stat as Stat);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MessageService {\n\n  msgFeed: Subject<string> = new Subject();\n\n  constructor() { }\n\n  addMessage(message: string) {\n    this.msgFeed.next(message);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { interval, Subject, Subscription } from 'rxjs';\n\nconst tickRate = 100;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TimeService {\n\n  tick: Subject<number> = new Subject();\n  private _timerSubscription: Subscription = null;\n\n  constructor() { }\n\n  startGame() {\n    if (this._timerSubscription != null) {\n      this._timerSubscription.unsubscribe();\n    }\n    this._timerSubscription = interval(tickRate).subscribe(x => this.tick.next(tickRate/1000));\n  }\n}\n","\r\nexport class DieDef {\r\n  constructor(\r\n    public count: number,\r\n    public faces: number,\r\n    public cost: number\r\n    ) { }\r\n\r\n    roll(): number {\r\n      let total = 0;\r\n      for (let i = 0; i < this.count; i++) {\r\n        total += Math.floor(Math.random()*this.faces) + 1;\r\n      }\r\n      return total;\r\n    }\r\n}\r\n\r\nexport const DIE_LIBRARY: DieDef[] = [\r\n  new DieDef(1, 4, 1),\r\n  new DieDef(1, 6, 1),\r\n  new DieDef(1, 8, 5),\r\n  new DieDef(1, 10, 8),\r\n  new DieDef(2, 6, 14),\r\n  new DieDef(2, 8, 20),\r\n  new DieDef(3, 6, 30),\r\n  new DieDef(3, 8, 45),\r\n  new DieDef(4, 6, 70),\r\n  new DieDef(4, 8, 100),\r\n  new DieDef(6, 6, 150)\r\n];\r\n","\r\nexport class EncounterSkillDef {\r\n  skill: string;\r\n  strength: number;\r\n\r\n  constructor(skill: string, strength = 1) {\r\n    this.skill = skill;\r\n    this.strength = strength;\r\n  }\r\n}\r\n\r\nexport class EncounterDef {\r\n  name: string;\r\n  progressNeeded: number = 1; // Multiplied by 100\r\n  progressDegenPct: number = 7;\r\n  staminaDrain: number = 1;\r\n  xpReward: number = 100;\r\n  itemReward: string = null;\r\n  skills: EncounterSkillDef[] = [];\r\n\r\n\r\n  constructor(name: string) {\r\n    this.name = name;\r\n  }\r\n\r\n  getSkill(skill: string) {\r\n    const s = this.skills.find(x => x.skill == skill);\r\n    if (s == null) {return 0;}\r\n    return s.strength;\r\n  }\r\n\r\n  setDifficulty(num: number) {\r\n    this.progressNeeded = num;\r\n    this.staminaDrain = num;\r\n    return this;\r\n  }\r\n\r\n  xp(num: number) {\r\n    this.xpReward = num;\r\n    return this;\r\n  }\r\n\r\n  item(item: string) {\r\n    this.itemReward = item;\r\n    return this;\r\n  }\r\n\r\n  addSkill(skill: string, strength = 1) {\r\n    let def = this.skills.find(x => x.skill == skill);\r\n    if (def == null) {\r\n      def = new EncounterSkillDef(skill);\r\n      this.skills.push(def);\r\n    }\r\n    def.strength = strength;\r\n    return this;\r\n  }\r\n}\r\n\r\nexport class CombatEncounterDef extends EncounterDef {\r\n  constructor(name: string) {\r\n    super(name);\r\n    this.initCombatSkills();\r\n  }\r\n\r\n  initCombatSkills() {\r\n    this.skills.push(new EncounterSkillDef(\"melee\"));\r\n    this.skills.push(new EncounterSkillDef(\"ranged\"));\r\n    this.skills.push(new EncounterSkillDef(\"magic\"));\r\n  }\r\n\r\n  resist(skill: string) {\r\n    this.addSkill(skill, 0.5);\r\n    return this;\r\n  }\r\n\r\n  weak(skill: string) {\r\n    this.addSkill(skill, 2);\r\n    return this;\r\n  }\r\n}\r\n\r\nexport const ENCOUNTER_LIBRARY: EncounterDef[] = [\r\n  new CombatEncounterDef(\"rat\")\r\n    .xp(10).item(\"shortbow\"),\r\n  new CombatEncounterDef(\"slime mold\").resist(\"ranged\")\r\n    .xp(5),\r\n  new CombatEncounterDef(\"brutal rat\").setDifficulty(1.5)\r\n    .xp(15).item(\"knife\"),\r\n  new CombatEncounterDef(\"wolf\").setDifficulty(1.8),\r\n  new CombatEncounterDef(\"felsprite\").setDifficulty(1.4)\r\n    .resist(\"melee\").resist(\"ranged\"),\r\n  new CombatEncounterDef(\"dire rat\").setDifficulty(1.7),\r\n  new CombatEncounterDef(\"goblin scout\").setDifficulty(1.75),\r\n  new CombatEncounterDef(\"goblin guard\").setDifficulty(2.2),\r\n  new CombatEncounterDef(\"goblin sage\").setDifficulty(2.1)\r\n    .resist(\"magic\"),\r\n  new CombatEncounterDef(\"hobgoblin overseer\").setDifficulty(2.7)\r\n    .resist(\"ranged\"),\r\n  new CombatEncounterDef(\"goblin shaman\").setDifficulty(2.5)\r\n    .resist(\"magic\"),\r\n  new CombatEncounterDef(\"hobgoblin graverobber\").setDifficulty(3)\r\n    .resist(\"ranged\"),\r\n  new CombatEncounterDef(\"corpse wight\").setDifficulty(2.9)\r\n    .resist(\"melee\").resist(\"ranged\"),\r\n  new CombatEncounterDef(\"tomb lord\").setDifficulty(3.5)\r\n    .item(\"staff of ancients\")\r\n\r\n];\r\n","import { Stat } from \"../common/gameConstants\";\r\n\r\nexport class ItemDef {\r\n  public name: string;\r\n  public skill: string = null;\r\n  public strength: number = 0;\r\n  public requiredStat: Stat = null;\r\n  public requiredStatAmount: number = 0;\r\n  public gold: number = 1;\r\n\r\n  constructor(name: string) {\r\n    this.name = name;\r\n  }\r\n\r\n  setSkill(skill: string, strength: number) {\r\n    this.skill = skill;\r\n    this.strength = strength;\r\n    return this;\r\n  }\r\n\r\n  setReq(stat: Stat, amount: number) {\r\n    this.requiredStat = stat;\r\n    this.requiredStatAmount = amount;\r\n    return this;\r\n  }\r\n\r\n  setValue(gold: number) {\r\n    this.gold = gold;\r\n  }\r\n}\r\n\r\nexport const ITEM_LIBRARY: ItemDef[] = [\r\n  new ItemDef(\"knife\").setSkill(\"melee\", 2)\r\n    .setReq(\"body\", 2),\r\n  new ItemDef(\"shortbow\").setSkill(\"ranged\", 7)\r\n    .setReq(\"body\", 2),\r\n  new ItemDef(\"longbow\").setSkill(\"ranged\", 14)\r\n    .setReq(\"body\", 5),\r\n  new ItemDef(\"staff of ancients\").setSkill(\"magic\", 25)\r\n    .setReq(\"mind\", 15)\r\n];\r\n","import { Stat } from \"../common/gameConstants\";\r\n\r\nexport class SkillDef {\r\n\r\n  public name: string;\r\n  public stat: Stat = null;\r\n  public cost: number = 1; // Multiplier\r\n\r\n  constructor(name: string) {\r\n    this.name = name;\r\n  }\r\n\r\n  setStat(stat: Stat) {\r\n    this.stat = stat;\r\n    return this;\r\n  }\r\n\r\n  setCost(cost: number) {\r\n    this.cost = cost;\r\n    return this;\r\n  }\r\n\r\n}\r\n\r\nexport const SKILL_LIBRARY: SkillDef[] = [\r\n  new SkillDef(\"melee\").setStat(\"body\").setCost(1),\r\n  new SkillDef(\"ranged\").setStat(\"agility\").setCost(1),\r\n  new SkillDef(\"magic\").setStat(\"mind\").setCost(1),\r\n];\r\n","\r\n\r\nexport class VentureDef {\r\n  name: string;\r\n  encounters: string[] = [];\r\n  prereqName: string;\r\n  prereqRank: number;\r\n\r\n  constructor (\r\n    name: string\r\n  ) {\r\n    this.name = name;\r\n  }\r\n\r\n  public getRandomEncounter(): string {\r\n    const random = Math.floor(Math.random()*this.encounters.length);\r\n    return this.encounters[random];\r\n  }\r\n\r\n  public addEncounter(name: string) {\r\n    this.encounters.push(name);\r\n    return this;\r\n  }\r\n\r\n  public addPrereq(name: string, rank: number) {\r\n    this.prereqName = name;\r\n    this.prereqRank = rank;\r\n    return this;\r\n  }\r\n}\r\n\r\nexport const VENTURE_LIBRARY: VentureDef[] = [\r\n  new VentureDef(\"The Innkeeper's Basement\")\r\n    .addEncounter(\"rat\")\r\n    .addEncounter(\"slime mold\")\r\n    .addEncounter(\"brutal rat\"),\r\n  new VentureDef(\"The Thicket\")\r\n    .addPrereq(\"The Innkeeper's Basement\", 5)\r\n    .addEncounter(\"brutal rat\")\r\n    .addEncounter(\"wolf\")\r\n    .addEncounter(\"felsprite\")\r\n    .addEncounter(\"dire rat\")\r\n    .addEncounter(\"goblin scout\"),\r\n  new VentureDef(\"The Goblin Caves\")\r\n    .addPrereq(\"The Thicket\", 5)\r\n    .addEncounter(\"dire rat\")\r\n    .addEncounter(\"goblin scout\")\r\n    .addEncounter(\"goblin guard\")\r\n    .addEncounter(\"goblin sage\")\r\n    .addEncounter(\"hobgoblin overseer\"),\r\n  new VentureDef(\"The Lost Tomb\")\r\n    .addPrereq(\"The Lost Tomb\", 5)\r\n    .addEncounter(\"goblin sage\")\r\n    .addEncounter(\"goblin shaman\")\r\n    .addEncounter(\"hobgoblin graverobber\")\r\n    .addEncounter(\"corpse wight\")\r\n    .addEncounter(\"tomb lord\")\r\n];\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}