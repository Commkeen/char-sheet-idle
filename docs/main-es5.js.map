{"version":3,"sources":["webpack:///$_lazy_route_resources|lazy|groupOptions: {}|namespace object","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/components/character-panel/character-panel.component.html","webpack:///src/app/components/character-panel/character-panel.component.ts","webpack:///src/app/components/common/game-button/game-button.component.ts","webpack:///src/app/components/common/game-button/game-button.component.html","webpack:///src/app/components/common/progress-bar/progress-bar.component.ts","webpack:///src/app/components/common/progress-bar/progress-bar.component.html","webpack:///src/app/components/location-panel/location-panel.component.html","webpack:///src/app/components/location-panel/location-panel.component.ts","webpack:///src/app/components/message-panel/message-panel.component.html","webpack:///src/app/components/message-panel/message-panel.component.ts","webpack:///src/app/models/character.ts","webpack:///src/app/models/venture.ts","webpack:///src/app/pipes/display-number.pipe.ts","webpack:///src/app/services/game.service.ts","webpack:///src/app/services/message.service.ts","webpack:///src/app/services/time.service.ts","webpack:///src/app/staticData/dieDefinitions.ts","webpack:///src/app/staticData/ventureDefinitions.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","id","module","exports","AppComponent","_timeService","title","startGame","AppModule","BrowserModule","FlexModule","LocationPanelComponent","CharacterPanelComponent","MessagePanelComponent","GameButtonComponent","ProgressBarComponent","DisplayNumberPipe","_gameService","character","ap","getCurrentDie","result","nextDie","getNextDie","cost","getCharacter","name","level","xp","getLevelCost","stamina","maxStamina","body","getDie","count","faces","rollNewCharacter","upgradeDie","rest","click","EventEmitter","event","stopPropagation","emit","onClick","value","max","Math","min","localVentures","ventures","v","selectVenture","_messageService","messageBuffer","messageBufferSize","msgFeed","subscribe","x","onMessage","msg","push","length","splice","Character","Venture","encounterName","progress","progressMax","completions","args","prefix","suffix","abs","getSuffixedValue","decimalPlaces","floor","log10","toFixed","GameService","dieRank","resting","_init","VENTURE_LIBRARY","def","tick","dT","targetVenture","venture","find","startEncounter","addMessage","gainXp","random","forEach","die","roll","initVentures","initSim","nextLevelCost","gainLevel","newLevel","bodyIncrease","newAp","getVentureDef","encounter","getRandomEncounter","DIE_LIBRARY","MessageService","Subject","message","next","tickRate","TimeService","_timerSubscription","unsubscribe","interval","DieDef","total","i","VentureDef","encounters","rank","prereqName","prereqRank","addEncounter","addPrereq","environment","production","enableProdMode","platformBrowser","bootstrapModule","err","console","error"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 8255;\nmodule.exports = webpackEmptyAsyncContext;","import { Component, OnInit } from '@angular/core';\nimport { TimeService } from './services/time.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n  title = 'char-sheet-idle';\n\n  constructor(private _timeService: TimeService) { }\n\n  ngOnInit(): void {\n    this._timeService.startGame();\n  }\n}\n","<div fxLayout=\"column\" class=\"layout-container\">\n  <div fxFlex=\"4\" class=\"layout-top\">\n    Character Sheet Idle 0.1 --- Work in progress\n  </div>\n  <div fxFlex=\"70\" class=\"layout-center\">\n    <app-location-panel></app-location-panel>\n  </div>\n  <div fxFlex=\"26\" fxLayout=\"row\" class=\"layout-bottom\">\n    <div fxFlex=\"60\" class=\"layout-left-bottom\">\n      <app-character-panel></app-character-panel>\n    </div>\n    <div fxFlex=\"40\" class=\"layout-right-bottom\">\n      <app-message-panel></app-message-panel>\n    </div>\n  </div>\n</div>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FlexModule } from '@angular/flex-layout';\n\nimport { AppComponent } from './app.component';\nimport { LocationPanelComponent } from './components/location-panel/location-panel.component';\nimport { CharacterPanelComponent } from './components/character-panel/character-panel.component';\nimport { MessagePanelComponent } from './components/message-panel/message-panel.component';\nimport { GameButtonComponent } from './components/common/game-button/game-button.component';\nimport { ProgressBarComponent } from './components/common/progress-bar/progress-bar.component';\nimport { DisplayNumberPipe } from './pipes/display-number.pipe';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    LocationPanelComponent,\n    CharacterPanelComponent,\n    MessagePanelComponent,\n    GameButtonComponent,\n    ProgressBarComponent,\n    DisplayNumberPipe\n  ],\n  imports: [\n    BrowserModule,\n    FlexModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","<div fxLayout=\"row\" class=\"game-section\">\n  <div fxLayout=\"column\" class=\"reroll-panel\">\n    <game-button (click)=\"rollNewCharacter()\">Roll New Character</game-button>\n    <span *ngIf=\"getCharacter() != null\">\n    <div>Current die: {{dieCount}}d{{dieFaces}}</div>\n    <br />\n    <div>AP: {{ap}}</div>\n    <game-button *ngIf=\"getNextDieCost() != null\" (click)=\"upgradeDie()\">\n      Upgrade Die: {{getNextDieCost()}} AP\n    </game-button>\n    </span>\n  </div>\n  <div fxLayout=\"row\" class=\"character-sheet\" *ngIf=\"getCharacter() != null\">\n    <div fxLayout=\"column\" class=\"character-sheet-left\">\n      <h2>{{name}}</h2>\n      <div fxLayout=\"row\">\n        <div fxFlex=\"80\">Stamina: {{stamina | displayNumber}}/{{maxStamina}}</div>\n        <game-button (click)=\"rest()\">Rest</game-button>\n      </div>\n      <progress-bar [value]=\"stamina\" [max]=\"maxStamina\"></progress-bar>\n      <br />\n      <div>Level {{level}}</div>\n      <div>XP: {{xp}}/{{xpMax}}</div>\n      <progress-bar [value]=\"xp\" [max]=\"xpMax\"></progress-bar>\n    </div>\n    <div fxLayout=\"column\" class=\"character-sheet-right\">\n      <div>Resting at the inn</div>\n      <br />\n      <br />\n      <div>Body: {{body}}</div>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Character } from 'src/app/models/character';\nimport { GameService } from 'src/app/services/game.service';\nimport { DieDef } from 'src/app/staticData/dieDefinitions';\n\n@Component({\n  selector: 'app-character-panel',\n  templateUrl: './character-panel.component.html',\n  styleUrls: ['./character-panel.component.scss']\n})\nexport class CharacterPanelComponent implements OnInit {\n\n  constructor(private _gameService: GameService) { }\n\n  ngOnInit(): void {\n  }\n\n  getCharacter(): Character {\n    return this._gameService.character;\n  }\n\n  getAP(): number {\n    return this._gameService.ap;\n  }\n\n  getDie(): DieDef {\n    return this._gameService.getCurrentDie();\n  }\n\n  getNextDieCost(): number {\n    let result = null;\n    const nextDie = this._gameService.getNextDie();\n    if (nextDie != null) {result = nextDie.cost;}\n    return result;\n  }\n\n  // ======Display Getters======\n\n  get name() {\n    return this.getCharacter().name;\n  }\n\n  get level() {\n    return this.getCharacter().level;\n  }\n\n  get xp() {\n    return this.getCharacter().xp;\n  }\n\n  get xpMax() {\n    return this._gameService.getLevelCost(this.level+1);\n  }\n\n  get stamina() {\n    return this.getCharacter().stamina;\n  }\n\n  get maxStamina() {\n    return this.getCharacter().maxStamina;\n  }\n\n  get body() {\n    return this.getCharacter().body;\n  }\n\n  get ap() {\n    return this._gameService.ap;\n  }\n\n  get dieCount() {\n    return this.getDie().count;\n  }\n\n  get dieFaces() {\n    return this.getDie().faces;\n  }\n\n  // ======Click Handlers======\n\n  rollNewCharacter(): void {\n    this._gameService.rollNewCharacter();\n  }\n\n  upgradeDie(): void {\n    this._gameService.upgradeDie();\n  }\n\n  rest(): void {\n    this._gameService.rest();\n  }\n\n}\n","import { Component, ContentChild, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\n@Component({\n  selector: 'game-button',\n  templateUrl: './game-button.component.html',\n  styleUrls: ['./game-button.component.scss']\n})\nexport class GameButtonComponent implements OnInit {\n\n  @Output() click = new EventEmitter<void>();\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  onClick(event: MouseEvent) {\n    event.stopPropagation();\n    this.click.emit();\n  }\n\n}\n","<div class=\"game-btn\" (click)=\"onClick($event)\">\n  <span class=\"text\"><ng-content></ng-content></span>\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'progress-bar',\n  templateUrl: './progress-bar.component.html',\n  styleUrls: ['./progress-bar.component.scss']\n})\nexport class ProgressBarComponent implements OnInit {\n\n  @Input() value: number = 15;\n  @Input() max: number = 100;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  getWidth(): number {\n    let result = this.value / this.max;\n    result = result*100;\n    result = Math.min(result, 100);\n    result = Math.max(0, result);\n    return result;\n  }\n\n}\n","<div class=\"bar-outer\">\n  <div class=\"bar-inner\" [style.width]=\"getWidth() + '%'\"></div>\n</div>\n","<div class=\"game-section\">\n  <div class=\"local-ventures\">\n    <div class=\"venture\" fxLayout=\"row\" *ngFor=\"let venture of getVentures()\">\n      <div fxFlex=\"30\"></div>\n      <div fxFlex=\"30\" fxLayout=\"row\" class=\"venture-left\">\n        <game-button fxFlex=\"60\" (click)=\"selectVenture(venture)\">{{venture.name}}</game-button>\n        <div fxFlex=\"40\">{{venture.completions}}</div>\n      </div>\n      <div fxFlex=\"70\" class=\"venture-right\" fxLayout=\"column\">\n        <div>{{venture.encounterName}}</div>\n        <progress-bar [value]=\"venture.progress\" [max]=\"venture.progressMax\"></progress-bar>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Venture } from 'src/app/models/venture';\nimport { GameService } from 'src/app/services/game.service';\n\n@Component({\n  selector: 'app-location-panel',\n  templateUrl: './location-panel.component.html',\n  styleUrls: ['./location-panel.component.scss']\n})\nexport class LocationPanelComponent implements OnInit {\n\n  constructor(private _gameService: GameService) { }\n\n  public localVentures: Venture[] = [];\n\n  ngOnInit(): void {\n  }\n\n  getVentures(): Venture[] {\n    return this._gameService.ventures;\n  }\n\n  // ======Display Getters======\n\n  // ======Click Handlers======\n  selectVenture(v: Venture): void {\n    this._gameService.selectVenture(v);\n  }\n\n}\n","<div class=\"game-section\">\n  <div class=\"messages\">\n    <div class=\"message\" *ngFor=\"let message of messageBuffer\">\n      {{message}}\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { MessageService } from 'src/app/services/message.service';\n\n@Component({\n  selector: 'app-message-panel',\n  templateUrl: './message-panel.component.html',\n  styleUrls: ['./message-panel.component.scss']\n})\nexport class MessagePanelComponent implements OnInit {\n\n  constructor(private _messageService: MessageService) { }\n\n  public messageBuffer: string[] = [];\n  public messageBufferSize: number = 10;\n\n  ngOnInit(): void {\n    this._messageService.msgFeed.subscribe(x => this.onMessage(x));\n  }\n\n  onMessage(msg: string): void {\n    this.messageBuffer.push(msg);\n    while (this.messageBuffer.length > this.messageBufferSize) {\n      this.messageBuffer.splice(0,1);\n    }\n  }\n\n}\n","\r\nexport class Character {\r\n  name: string;\r\n\r\n  body: number;\r\n\r\n  stamina: number;\r\n  maxStamina: number;\r\n\r\n  level: number;\r\n  xp: number;\r\n}\r\n","\r\nexport class Venture {\r\n  public name: string;\r\n  public encounterName: string = null;\r\n  public progress: number = 0;\r\n  public progressMax: number = 100;\r\n  public completions: number = 0;\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'displayNumber'\n})\nexport class DisplayNumberPipe implements PipeTransform {\n\n  transform(value: number, args?: any): string {\n\n    let prefix = '';\n    let suffix = '';\n    if (value < 0) {prefix = '-'; }\n    value = Math.abs(value);\n\n    if (value < 1000) {\n      return prefix + this.getSuffixedValue(value, suffix);\n    }\n\n    const decimalPlaces = Math.floor(Math.log10(value));\n    if (decimalPlaces < 6) {\n      value = (value / 1000);\n      suffix = 'K';\n    } else {\n      value = (value / 1000000);\n      suffix = 'M';\n    }\n\n    return prefix + this.getSuffixedValue(value, suffix);\n  }\n\n  getSuffixedValue(value: number, suffix: string): string {\n    if (value - Math.floor(value) > 0.01) {\n      return value.toFixed(2) + suffix;\n    }\n    return value.toFixed(0) + suffix;\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Character } from '../models/character';\nimport { Venture } from '../models/venture';\nimport { DieDef, DIE_LIBRARY } from '../staticData/dieDefinitions';\nimport { VentureDef, VENTURE_LIBRARY } from '../staticData/ventureDefinitions';\nimport { MessageService } from './message.service';\nimport { TimeService } from './time.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GameService {\n\n  public character: Character = null;\n  public ventures: Venture[] = [];\n\n  public ap: number = 0;\n  public dieRank: number = 0;\n\n  public targetVenture: string;\n  public resting: boolean = false;\n\n  private _init: boolean = false;\n\n  constructor(private _timeService: TimeService, private _messageService: MessageService) { }\n\n  initVentures(): void {\n    this.ventures = [];\n    VENTURE_LIBRARY.forEach(def => {\n      const v = new Venture();\n      v.name = def.name;\n      this.ventures.push(v);\n    });\n  }\n\n  initSim(): void {\n    if (this._init) {return;}\n    this._timeService.tick.subscribe(x => this.tick(x));\n    this._init = true;\n  }\n\n  // ======Simulation======\n\n  tick(dT: number): void {\n    if (this.character == null) {return;}\n\n    // Do Rest\n    if (this.resting) {\n      this.character.stamina += 5*dT;\n      if (this.character.stamina >= this.character.maxStamina) {\n        this.character.stamina = this.character.maxStamina;\n        this.resting = false;\n      }\n    }\n\n    // Progress current venture\n    else if (this.targetVenture != null) {\n      const venture = this.ventures.find(x => x.name == this.targetVenture);\n      if (venture == null) {return;}\n\n      // If there isn't an encounter, init an encounter\n      if (venture.encounterName == null) {\n        this.startEncounter(venture);\n      }\n\n      venture.progress += 7*this.character.body*dT;\n      this.character.stamina -= dT;\n\n      if (this.character.stamina <= 0) {this.resting = true;}\n\n      if (venture.progress > venture.progressMax) {\n        venture.completions++;\n        venture.progress = 0;\n        this._messageService.addMessage(\"You slay the \" + venture.encounterName + \".\");\n        this.startEncounter(venture);\n        this.gainXp(Math.floor(Math.random()*75 + 75));\n      }\n\n    }\n\n    // Degen venture progress\n    this.ventures.forEach(x => {\n      if (x.progress > 0 && (this.resting || this.targetVenture != x.name)) {\n        x.progress -= 4*dT;\n        if (x.progress <= 0) {\n          x.progress = 0;\n          x.encounterName = null;\n        }\n      }\n    });\n  }\n\n  // ======Character Operations======\n\n  rollNewCharacter(): void {\n    const die = this.getCurrentDie();\n    this.character = new Character();\n    this.character.name = \"Bob the Adventurer\";\n    this.character.xp = 0;\n    this.character.level = 1;\n\n    this.character.body = die.roll();\n\n    this.character.maxStamina = (this.character.body+2)*3;\n    this.character.stamina = this.character.maxStamina;\n\n    this.targetVenture = null;\n    this.resting = false;\n\n    this._messageService.addMessage(\"Welcome, \" + this.character.name + \"!\");\n\n    this.initVentures();\n    this.initSim();\n  }\n\n  getLevelCost(level: number): number {\n    return 150 + (((level*level)-2)*135);\n  }\n\n  rest(): void {\n    this.resting = true;\n  }\n\n  gainXp(xp: number): void {\n    this.character.xp += xp;\n\n    const nextLevelCost = this.getLevelCost(this.character.level+1);\n    if (this.character.xp >= nextLevelCost) {\n      this.character.xp -= nextLevelCost;\n      this.gainLevel();\n    }\n  }\n\n  gainLevel(): void {\n    this.character.level++;\n    const newLevel = this.character.level;\n    this._messageService.addMessage(\"You have reached level \" + newLevel + \"!\");\n\n    const die = this.getCurrentDie();\n    const bodyIncrease = Math.floor(die.roll()/3);\n    if (bodyIncrease > 0) {\n      this._messageService.addMessage(\"Your Body has increased by \" + bodyIncrease + \".\");\n      this.character.body += bodyIncrease;\n    }\n\n    this.character.maxStamina = (this.character.body+2)*3;\n    this.character.stamina = this.character.maxStamina;\n\n    const newAp = Math.max(0, newLevel*newLevel - 3);\n    this.ap += newAp;\n    this._messageService.addMessage(\"You have gained \" + newAp + \" AP.\");\n  }\n\n  //======Venture Operations======\n\n  getVentureDef(name: string): VentureDef {\n    return VENTURE_LIBRARY.find(x => x.name == name);\n  }\n\n  selectVenture(venture: Venture): void {\n    this.targetVenture = venture.name;\n  }\n\n  startEncounter(venture: Venture): void {\n    const def = this.getVentureDef(venture.name);\n    const encounter = def.getRandomEncounter();\n    venture.encounterName = encounter;\n  }\n\n  //======Die Operations======\n\n  getCurrentDie(): DieDef {\n    return DIE_LIBRARY[this.dieRank];\n  }\n\n  getNextDie(): DieDef {\n    if (DIE_LIBRARY.length <= this.dieRank+1) {return null;}\n    return DIE_LIBRARY[this.dieRank+1];\n  }\n\n  upgradeDie(): void {\n    if (DIE_LIBRARY.length <= this.dieRank+1) {return;}\n    this.dieRank++;\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MessageService {\n\n  msgFeed: Subject<string> = new Subject();\n\n  constructor() { }\n\n  addMessage(message: string) {\n    this.msgFeed.next(message);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { interval, Subject, Subscription } from 'rxjs';\n\nconst tickRate = 100;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TimeService {\n\n  tick: Subject<number> = new Subject();\n  private _timerSubscription: Subscription = null;\n\n  constructor() { }\n\n  startGame() {\n    if (this._timerSubscription != null) {\n      this._timerSubscription.unsubscribe();\n    }\n    this._timerSubscription = interval(tickRate).subscribe(x => this.tick.next(tickRate/1000));\n  }\n}\n","\r\nexport class DieDef {\r\n  constructor(\r\n    public count: number,\r\n    public faces: number,\r\n    public cost: number\r\n    ) { }\r\n\r\n    roll(): number {\r\n      let total = 0;\r\n      for (let i = 0; i < this.count; i++) {\r\n        total += Math.floor(Math.random()*this.faces) + 1;\r\n      }\r\n      return total;\r\n    }\r\n}\r\n\r\nexport const DIE_LIBRARY: DieDef[] = [\r\n  new DieDef(1, 4, 1),\r\n  new DieDef(1, 6, 1),\r\n  new DieDef(1, 8, 5),\r\n  new DieDef(1, 10, 8),\r\n  new DieDef(2, 6, 14),\r\n  new DieDef(2, 8, 20),\r\n  new DieDef(3, 6, 30),\r\n  new DieDef(3, 8, 45),\r\n  new DieDef(4, 6, 70),\r\n  new DieDef(4, 8, 100),\r\n  new DieDef(6, 6, 150)\r\n];\r\n","\r\n\r\nexport class VentureDef {\r\n  name: string;\r\n  encounters: string[] = [];\r\n  prereqName: string;\r\n  prereqRank: number;\r\n\r\n  constructor (\r\n    name: string\r\n  ) {\r\n    this.name = name;\r\n  }\r\n\r\n  public getRandomEncounter(): string {\r\n    const random = Math.floor(Math.random()*this.encounters.length);\r\n    return this.encounters[random];\r\n  }\r\n\r\n  public addEncounter(name: string) {\r\n    this.encounters.push(name);\r\n    return this;\r\n  }\r\n\r\n  public addPrereq(name: string, rank: number) {\r\n    this.prereqName = name;\r\n    this.prereqRank = rank;\r\n    return this;\r\n  }\r\n}\r\n\r\nexport const VENTURE_LIBRARY: VentureDef[] = [\r\n  new VentureDef(\"The Innkeeper's Basement\")\r\n    .addEncounter(\"rat\")\r\n    .addEncounter(\"slime mold\")\r\n    .addEncounter(\"brutal rat\"),\r\n  new VentureDef(\"The Thicket\")\r\n    .addPrereq(\"The Innkeeper's Basement\", 5)\r\n    .addEncounter(\"brutal rat\")\r\n    .addEncounter(\"wolf\")\r\n    .addEncounter(\"felsprite\")\r\n    .addEncounter(\"dire rat\")\r\n    .addEncounter(\"goblin scout\"),\r\n  new VentureDef(\"The Goblin Caves\")\r\n    .addPrereq(\"The Thicket\", 5)\r\n    .addEncounter(\"dire rat\")\r\n    .addEncounter(\"goblin scout\")\r\n    .addEncounter(\"goblin guard\")\r\n    .addEncounter(\"goblin sage\")\r\n    .addEncounter(\"hobgoblin overseer\"),\r\n  new VentureDef(\"The Lost Tomb\")\r\n    .addPrereq(\"The Lost Tomb\", 5)\r\n    .addEncounter(\"goblin sage\")\r\n    .addEncounter(\"goblin shaman\")\r\n    .addEncounter(\"hobgoblin graverobber\")\r\n    .addEncounter(\"corpse wight\")\r\n    .addEncounter(\"tomb lord\")\r\n];\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}